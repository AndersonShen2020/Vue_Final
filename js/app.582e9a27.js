(function(e){function t(t){for(var n,a,l=t[0],d=t[1],s=t[2],i=0,u=[];i<l.length;i++)a=l[i],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&u.push(o[a][0]),o[a]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(e[n]=d[n]);b&&b(t);while(u.length)u.shift()();return r.push.apply(r,s||[]),c()}function c(){for(var e,t=0;t<r.length;t++){for(var c=r[t],n=!0,a=1;a<c.length;a++){var l=c[a];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=d(d.s=c[0]))}return e}var n={},a={app:0},o={app:0},r=[];function l(e){return d.p+"js/"+({}[e]||e)+"."+{"chunk-2e8fbc17":"5e070d6d","chunk-49358f36":"4ee1c314","chunk-97ce6380":"406cf6db"}[e]+".js"}function d(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,d),c.l=!0,c.exports}d.e=function(e){var t=[],c={"chunk-2e8fbc17":1,"chunk-49358f36":1,"chunk-97ce6380":1};a[e]?t.push(a[e]):0!==a[e]&&c[e]&&t.push(a[e]=new Promise((function(t,c){for(var n="css/"+({}[e]||e)+"."+{"chunk-2e8fbc17":"9903b0d0","chunk-49358f36":"6d12a39d","chunk-97ce6380":"91d4ea88"}[e]+".css",o=d.p+n,r=document.getElementsByTagName("link"),l=0;l<r.length;l++){var s=r[l],i=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===n||i===o))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){s=u[l],i=s.getAttribute("data-href");if(i===n||i===o)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var n=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete a[e],b.parentNode.removeChild(b),c(r)},b.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(b)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,c){n=o[e]=[t,c]}));t.push(n[2]=r);var s,i=document.createElement("script");i.charset="utf-8",i.timeout=120,d.nc&&i.setAttribute("nonce",d.nc),i.src=l(e);var u=new Error;s=function(t){i.onerror=i.onload=null,clearTimeout(b);var c=o[e];if(0!==c){if(c){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",u.name="ChunkLoadError",u.type=n,u.request=a,c[1](u)}o[e]=void 0}};var b=setTimeout((function(){s({type:"timeout",target:i})}),12e4);i.onerror=i.onload=s,document.head.appendChild(i)}return Promise.all(t)},d.m=e,d.c=n,d.d=function(e,t,c){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(d.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)d.d(c,n,function(t){return e[t]}.bind(null,n));return c},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/Vue_Final/",d.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var b=i;r.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"0d7e":function(e,t,c){"use strict";c("9eb2")},"0d9f":function(e,t,c){},"0e32":function(e,t,c){},"1c93":function(e,t,c){},"217d":function(e,t,c){"use strict";c("4f8e")},2312:function(e,t,c){},"34bb":function(e,t,c){},"380c":function(e,t,c){"use strict";var n=c("7a23"),a={class:"card h-100"},o=Object(n["createElementVNode"])("div",{class:"img-opacity"},[Object(n["createElementVNode"])("div",{class:"img-text text-white fs-3"},"詳細內容")],-1),r=[o],l={class:"card-body"},d={class:"card-title fw-bold"},s={class:"modal-footer border-top-0 justify-content-between"},i={key:0,class:"h5"},u={key:1},b={class:"h6 text-gray"},m={class:"h5 text-danger"},p=Object(n["createElementVNode"])("i",{class:"bi bi-cart"},null,-1),O=[p];function j(e,t,c,o,p,j){var f=Object(n["resolveComponent"])("RouterLink");return Object(n["openBlock"])(),Object(n["createBlock"])(f,{to:"/product/".concat(p.product.id),onClick:j.goTop},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("div",{class:"card-img d-flex justify-content-center align-items-center",style:Object(n["normalizeStyle"])({backgroundImage:"url(".concat(p.product.imageUrl,")")})},r,4),Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("h5",d,Object(n["toDisplayString"])(p.product.title),1)]),Object(n["createElementVNode"])("div",s,[p.product.price===p.product.origin_price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i," NT$ "+Object(n["toDisplayString"])(p.product.price),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",u,[Object(n["createElementVNode"])("del",b,"NT$ "+Object(n["toDisplayString"])(p.product.origin_price),1),Object(n["createElementVNode"])("div",m,"NT$ "+Object(n["toDisplayString"])(p.product.price),1)])),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-cart align-self-end",onClick:t[0]||(t[0]=function(t){return e.addToCart(p.product.id)})},O)])])]})),_:1},8,["to","onClick"])}var f={props:["item"],data:function(){return{product:{}}},methods:{goTop:function(){document.documentElement.scrollTop=0}},mounted:function(){this.product=this.item}},v=(c("927a"),c("6b0d")),h=c.n(v);const g=h()(f,[["render",j]]);t["a"]=g},3969:function(e,t,c){"use strict";c("87ac")},"3a78":function(e,t,c){"use strict";c("890a")},"3b9d":function(e,t,c){},"4f8e":function(e,t,c){},"52a5":function(e,t,c){"use strict";c("2312")},5442:function(e,t,c){},"549d":function(e,t,c){},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");function a(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("RouterView");return Object(n["openBlock"])(),Object(n["createBlock"])(l)}var o={name:"Home"},r=(c("c351"),c("6b0d")),l=c.n(r);const d=l()(o,[["render",a]]);var s=d,i=(c("d3b7"),c("3ca3"),c("ddb0"),c("6c02")),u={class:"leading-img d-flex justify-content-center bg-cover2 position-relative"},b={class:"align-self-center"},m=Object(n["createElementVNode"])("div",{class:"text-primary bg-dark bg-opacity-25 p-3 leading-title leading-text"},[Object(n["createElementVNode"])("p",{class:"h3 fw-bold"},"工作與咖啡有各種組合"),Object(n["createElementVNode"])("p",{class:"h3 fw-bold leading-text-indent"},"找到專屬於你的最佳搭配")],-1),p={class:"leading-btn"},O=Object(n["createTextVNode"])(" 前往商品頁面 "),j=Object(n["createElementVNode"])("div",{class:"position-absolute bottom-0 start-50 translate-middle-x"},[Object(n["createElementVNode"])("div",{class:"d3 down-animation"})],-1),f={class:"bg-light bg-opacity-50 py-5"},v={class:"container"},h={class:"row"},g={class:"col text-center"},V=Object(n["createElementVNode"])("h2",{class:"text-primary"},"香濃好滋味，獨享你的味道。",-1),N=Object(n["createElementVNode"])("p",{class:"text-coffee"},[Object(n["createTextVNode"])(" 歡迎來到 Coffee Roast，歡慶開幕輸入折扣優惠碼「"),Object(n["createElementVNode"])("span",{class:"fw-bold"},"pay88"),Object(n["createTextVNode"])("」全品項打 8 折，心動不如馬上行動！ ")],-1),E=Object(n["createTextVNode"])(" 前往商品頁面 "),y={class:"container my-3"},k={class:"row"},x=Object(n["createElementVNode"])("div",{class:"col-md-7 d-none d-md-block"},[Object(n["createElementVNode"])("div",{class:"bg-image1"})],-1),w={class:"col-md-5 d-flex flex-column justify-content-center"},C=Object(n["createElementVNode"])("h3",{class:"coffee-header"},"咖啡品種",-1),B=Object(n["createElementVNode"])("div",{class:"text-start text-lg-center text-coffee"},[Object(n["createElementVNode"])("p",null,"咖啡豆的產地主要來自非洲、南美洲及亞洲地區。"),Object(n["createElementVNode"])("p",null,"非洲產出的咖啡豆大多帶有水果酸味及香氣。"),Object(n["createElementVNode"])("p",null,"南美洲整體平衡感佳，口感明亮清爽。"),Object(n["createElementVNode"])("p",null,"亞洲則是酸度低並帶有香料風味。")],-1),L={class:"d-flex justify-content-end"},S=Object(n["createTextVNode"])(" 查看咖啡品種 "),D={class:"row mt-5"},P={class:"col-md-5 d-flex flex-column justify-content-center"},M=Object(n["createElementVNode"])("h3",{class:"coffee-header"},"咖啡烘焙",-1),_=Object(n["createElementVNode"])("div",{class:"text-start text-lg-center text-coffee"},[Object(n["createElementVNode"])("p",null,"烘焙咖啡使咖啡生豆通過烘炒轉變為已烘焙的咖啡製品。"),Object(n["createElementVNode"])("p",null," 烘炒的過程使得生豆膨脹並改變其顏色、口感、氣味與密度，因而產生了咖啡的特殊風味。 "),Object(n["createElementVNode"])("p",null," 未烘焙的咖啡豆與已烘焙的含有相似的酸度、蛋白質與咖啡因，但缺少其美好滋味。 "),Object(n["createElementVNode"])("p",null," 最簡單的判斷方式是，豆子烘烤的時間越長，酸味越淡，咖啡因含量也越少。 ")],-1),T={class:"d-flex justify-content-end"},R=Object(n["createTextVNode"])(" 查看咖啡烘焙 "),I=Object(n["createElementVNode"])("div",{class:"col-md-7 d-none d-md-block"},[Object(n["createElementVNode"])("div",{class:"bg-image2"})],-1),$={class:"row mt-5"},F=Object(n["createElementVNode"])("div",{class:"col-md-7 d-none d-md-block"},[Object(n["createElementVNode"])("div",{class:"bg-image3"})],-1),U={class:"col-md-5 d-flex flex-column justify-content-center"},q=Object(n["createElementVNode"])("h3",{class:"coffee-header"},"手沖咖啡",-1),z=Object(n["createElementVNode"])("div",{class:"text-start text-lg-center text-coffee"},[Object(n["createElementVNode"])("p",null,"手沖咖啡一點也不難！"),Object(n["createElementVNode"])("p",null," 而它最有趣的地方是，即使咖啡粉是同一包，也可以因為水溫、咖啡粉的粉量、手沖的速度、沖煮的方法，而讓每一次泡的味道有所不同！ ")],-1),A={class:"d-flex justify-content-end"},K=Object(n["createTextVNode"])(" 查看手沖咖啡 "),W={class:"bg-light bg-opacity-50 py-5 my-5"},Z={class:"container"},J=Object(n["createElementVNode"])("h2",{class:"text-center text-primary mb-5"},"我們的咖啡豆",-1),Y=Object(n["createElementVNode"])("div",{class:"swiper-button-prev"},null,-1),H=Object(n["createElementVNode"])("div",{class:"swiper-button-next"},null,-1),G={class:"py-5 mt-5"},Q={class:"container"},X={class:"row"},ee={class:"col text-center"},te=Object(n["createElementVNode"])("label",{class:"form-label",for:"email"},[Object(n["createElementVNode"])("h2",{class:"text-primary"},"訂閱我們以獲得更多優惠資訊")],-1),ce={class:"row"},ne={class:"col-6 mx-auto"},ae={class:"input-group"},oe=Object(n["createElementVNode"])("button",{class:"btn btn-primary",type:"submit"},[Object(n["createElementVNode"])("span",null,"訂閱")],-1);function re(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading"),d=Object(n["resolveComponent"])("RouterLink"),s=Object(n["resolveComponent"])("CardComponent"),i=Object(n["resolveComponent"])("SwiperSlide"),re=Object(n["resolveComponent"])("Swiper");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",b,[m,Object(n["createElementVNode"])("div",p,[Object(n["createVNode"])(d,{class:"btn btn-lg coffee-btn p-3",to:"/products"},{default:Object(n["withCtx"])((function(){return[O]})),_:1})])]),j]),Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",g,[V,N,Object(n["createVNode"])(d,{class:"btn coffee-btn",to:"/products"},{default:Object(n["withCtx"])((function(){return[E]})),_:1})])])])]),Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("div",k,[x,Object(n["createElementVNode"])("div",w,[C,B,Object(n["createElementVNode"])("div",L,[Object(n["createVNode"])(d,{class:"btn coffee-btn",to:"/KnowledgeView"},{default:Object(n["withCtx"])((function(){return[S]})),_:1})])])]),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",P,[M,_,Object(n["createElementVNode"])("div",T,[Object(n["createVNode"])(d,{class:"btn coffee-btn",to:{path:"/KnowledgeView",query:{state:"coffeeRoast"}}},{default:Object(n["withCtx"])((function(){return[R]})),_:1})])]),I]),Object(n["createElementVNode"])("div",$,[F,Object(n["createElementVNode"])("div",U,[q,z,Object(n["createElementVNode"])("div",A,[Object(n["createVNode"])(d,{class:"btn coffee-btn",to:{path:"/KnowledgeView",query:{state:"coffeeBrew"}}},{default:Object(n["withCtx"])((function(){return[K]})),_:1})])])])]),Object(n["createElementVNode"])("div",W,[Object(n["createElementVNode"])("div",Z,[J,Object(n["createVNode"])(re,{loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},modules:o.modules,breakpoints:o.breakpoints,navigation:o.navigation},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.coffeeProducts,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.id},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{item:e},null,8,["item"])]})),_:2},1024)})),128)),Y,H]})),_:1},8,["modules","breakpoints","navigation"])])]),Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("div",Q,[Object(n["createElementVNode"])("div",X,[Object(n["createElementVNode"])("div",ee,[Object(n["createElementVNode"])("form",{onSubmit:t[1]||(t[1]=Object(n["withModifiers"])((function(){return r.subscription&&r.subscription.apply(r,arguments)}),["prevent"]))},[te,Object(n["createElementVNode"])("div",ce,[Object(n["createElementVNode"])("div",ne,[Object(n["createElementVNode"])("div",ae,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"email",type:"email",class:"form-control",placeholder:"輸入 Email 訂閱我們","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.subscribeEmail=e})},null,512),[[n["vModelText"],o.subscribeEmail,void 0,{trim:!0}]]),oe])])])],32)])])])])],64)}var le=c("1da1"),de=(c("96cf"),c("99af"),c("4de4"),c("ac1f"),c("00b4"),c("4da1")),se=c("8349"),ie=(c("5442"),c("f31f"),c("bc3a")),ue=c.n(ie),be=c("9062"),me=c.n(be),pe=(c("e40d"),c("380c")),Oe={methods:{setTitle:function(){document.title=this.title}},mounted:function(){this.setTitle()}},je="https://vue3-course-api.hexschool.io/v2",fe="ashen",ve={mixins:[Oe],data:function(){return{subscribeEmail:"",isLoading:!1,title:"Coffee Roast",modules:[de["a"],de["b"]],coffeeProducts:[],breakpoints:{320:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:3,spaceBetween:60},640:{slidesPerView:4,spaceBetween:40}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}},components:{Swiper:se["a"],SwiperSlide:se["b"],CardComponent:pe["a"],Loading:me.a},methods:{getCoffeeProducts:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.get("".concat(je,"/api/").concat(fe,"/products/all"));case 3:c=t.sent,n=c.data,e.coffeeProducts=n.products.filter((function(e){return"咖啡豆"===e.classification})),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.isLoading=!1,e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 12:e.isLoading=!1;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},subscription:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c=/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z]+$/,n=c.test(e.subscribeEmail),a={email:e.subscribeEmail},o="https://script.google.com/macros/s/AKfycbwAktBZdor8rY7_bSg84118MdIYrGUml_aAxp6bRjYNWsaxrc4c-AwdpjccfcQdiwjmnw/exec",!n){t.next=17;break}return t.prev=5,t.next=8,ue.a.post(o,null,{params:a});case 8:e.$swal({icon:"success",timer:2e3,showConfirmButton:!1,text:"訂閱成功，感謝您的訂閱。"}),e.subscribeEmail="",t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:"訂閱失敗，請重新輸入。"});case 15:t.next=18;break;case 17:e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:"信箱格式錯誤，請重新輸入。"});case 18:case"end":return t.stop()}}),t,null,[[5,12]])})))()}},mounted:function(){this.isLoading=!0,this.getCoffeeProducts()}};c("e85b");const he=l()(ve,[["render",re]]);var ge=he,Ve=function(e){return Object(n["pushScopeId"])("data-v-22a5632a"),e=e(),Object(n["popScopeId"])(),e},Ne={class:"container main"},Ee={class:"py-2 border-bottom"},ye={class:"breadcrumb mb-0"},ke={class:"breadcrumb-item"},xe=Object(n["createTextVNode"])(" 首頁 "),we=Ve((function(){return Object(n["createElementVNode"])("li",{class:"breadcrumb-item active"},"關於本店",-1)})),Ce=Ve((function(){return Object(n["createElementVNode"])("div",{class:"row mt-3"},[Object(n["createElementVNode"])("div",{class:"col-md-6"},[Object(n["createElementVNode"])("div",{class:"mt-3 d-flex flex-column"},[Object(n["createElementVNode"])("h2",{class:"text-primary fw-bold"},[Object(n["createElementVNode"])("i",{class:"bi bi-shop"}),Object(n["createTextVNode"])(" 門市資訊 ")]),Object(n["createElementVNode"])("p",{class:"my-3 text-primary h5"}," 我們非常高興能聽到來自客戶的任何意見，歡迎隨時聯絡我們，詢問、訂購產品或提供寶貴建議！ "),Object(n["createElementVNode"])("div",{class:"m-3 h4 text-primary fw-bold"},[Object(n["createElementVNode"])("p",null,[Object(n["createTextVNode"])(" 營業時間 "),Object(n["createElementVNode"])("i",{class:"bi bi-clock"}),Object(n["createTextVNode"])(" ： 週一至週六 09：00 AM ~ 19：00 PM ")]),Object(n["createElementVNode"])("p",null,[Object(n["createTextVNode"])(" 聯絡地址 "),Object(n["createElementVNode"])("i",{class:"bi bi-house"}),Object(n["createTextVNode"])(" ：台北市大安區通化街165巷24弄10號 ")]),Object(n["createElementVNode"])("p",null,[Object(n["createTextVNode"])(" 客服專線 "),Object(n["createElementVNode"])("i",{class:"bi bi-telephone"}),Object(n["createTextVNode"])(" ："),Object(n["createElementVNode"])("a",{href:"tel:+886-2-5876666"},"02-2587-6666")])])])]),Object(n["createElementVNode"])("div",{class:"col-md-6"},[Object(n["createElementVNode"])("iframe",{src:"https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d14460.742482510463!2d121.555108!3d25.027774!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x6d61b8862127bcb7!2z5Yqg54i-56ys5ZKW5ZWhLemAmuWMluW6lyhLYWxkaSBjb2ZmZWUp!5e0!3m2!1szh-TW!2stw!4v1647934721458!5m2!1szh-TW!2stw",width:"500",height:"450",allowfullscreen:"",loading:"lazy",class:"mt-3 map-style"})])],-1)}));function Be(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("RouterLink");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ne,[Object(n["createElementVNode"])("nav",Ee,[Object(n["createElementVNode"])("ol",ye,[Object(n["createElementVNode"])("li",ke,[Object(n["createVNode"])(l,{to:"/"},{default:Object(n["withCtx"])((function(){return[xe]})),_:1})]),we])]),Ce])}var Le={mixins:[Oe],data:function(){return{title:"關於本店"}}};c("3969");const Se=l()(Le,[["render",Be],["__scopeId","data-v-22a5632a"]]);var De=Se,Pe={class:"container main"},Me={class:"py-2 border-bottom"},_e={class:"breadcrumb mb-0"},Te={class:"breadcrumb-item"},Re=Object(n["createTextVNode"])(" 首頁 "),Ie=Object(n["createElementVNode"])("li",{class:"breadcrumb-item active"},"產品列表",-1),$e={class:"row mt-3 products text-primary"},Fe={class:"col-md-3"},Ue={class:"col-md-9"};function qe(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("RouterLink"),d=Object(n["resolveComponent"])("ProductsSidebar"),s=Object(n["resolveComponent"])("ProductsList");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Pe,[Object(n["createElementVNode"])("nav",Me,[Object(n["createElementVNode"])("ol",_e,[Object(n["createElementVNode"])("li",Te,[Object(n["createVNode"])(l,{to:"/"},{default:Object(n["withCtx"])((function(){return[Re]})),_:1})]),Ie])]),Object(n["createElementVNode"])("div",$e,[Object(n["createElementVNode"])("div",Fe,[Object(n["createVNode"])(d)]),Object(n["createElementVNode"])("div",Ue,[Object(n["createVNode"])(s)])])])}var ze=function(e){return Object(n["pushScopeId"])("data-v-6e5abd6e"),e=e(),Object(n["popScopeId"])(),e},Ae={class:"d-flex flex-nowrap my-3"},Ke={class:"me-auto"},We={class:"table align-middle d-lg-none d-block"},Ze={class:"list-unstyled"},Je={class:"d-flex flex-column justify-content-between flex-fill"},Ye={class:"text-primary"},He={class:"d-flex justify-content-between"},Ge={key:0,class:"h5"},Qe={key:1},Xe={class:"h6 text-gray"},et={class:"h5 text-danger"},tt={class:"d-flex"},ct=["onClick","disabled"],nt={class:"spinner-grow spinner-grow-sm"},at=ze((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-cart"},null,-1)})),ot={class:"d-none d-lg-block"},rt={class:"row mb-3 row-cols-md-3 row-cols-1 g-4"},lt={class:"card border-0 h-100 product-effect p-1"},dt=["src","alt"],st={class:"card-body"},it={class:"text-primary card-title fw-bold"},ut={class:"modal-footer border-top-0 justify-content-between"},bt={key:0,class:"h5"},mt={key:1},pt={class:"h6 text-gray"},Ot={class:"h5 text-danger"},jt=["onClick","disabled"],ft={class:"spinner-grow spinner-grow-sm"},vt=ze((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-cart"},null,-1)}));function ht(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading"),d=Object(n["resolveComponent"])("RouterLink"),s=Object(n["resolveComponent"])("ProductModal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",Ae,[Object(n["createElementVNode"])("div",Ke,"共有 "+Object(n["toDisplayString"])(r.filterProducts.length)+" 個產品",1)]),Object(n["createElementVNode"])("template",We,[Object(n["createElementVNode"])("ul",Ze,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.filterProducts,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"d-flex flex-column mb-3 product-effect p-2 products-list",key:null===e||void 0===e?void 0:e.id},[Object(n["createVNode"])(d,{class:"d-flex",to:"/product/".concat(null===e||void 0===e?void 0:e.id)},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",{class:"me-3 products-list-bg",style:Object(n["normalizeStyle"])({backgroundImage:"url(".concat(e.imageUrl,")")})},null,4),Object(n["createElementVNode"])("div",Je,[Object(n["createElementVNode"])("div",Ye,Object(n["toDisplayString"])(e.title),1),Object(n["createElementVNode"])("div",He,[e.price===e.origin_price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ge,Object(n["toDisplayString"])(e.price)+" 元 ",1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Qe,[Object(n["createElementVNode"])("del",Xe,"NT$ "+Object(n["toDisplayString"])(e.origin_price),1),Object(n["createElementVNode"])("div",et,"NT$ "+Object(n["toDisplayString"])(e.price),1)])),Object(n["createElementVNode"])("div",tt,[Object(n["createElementVNode"])("button",{type:"button",class:"btn align-self-center coffee-btn",onClick:Object(n["withModifiers"])((function(t){return r.addToCart(e.id)}),["prevent"]),disabled:o.isLoadingItem===e.id},[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",nt,null,512),[[n["vShow"],o.isLoadingItem===e.id]]),at],8,ct)])])])]})),_:2},1032,["to"])])})),128))])]),Object(n["createElementVNode"])("template",ot,[Object(n["createElementVNode"])("div",rt,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.filterProducts,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"col",key:e.id},[Object(n["createVNode"])(d,{to:"/product/".concat(e.id)},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",lt,[Object(n["createElementVNode"])("img",{src:e.imageUrl,class:"card-img-top card-img",alt:e.title},null,8,dt),Object(n["createElementVNode"])("div",st,[Object(n["createElementVNode"])("h5",it,Object(n["toDisplayString"])(e.title),1)]),Object(n["createElementVNode"])("div",ut,[e.price===e.origin_price?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",bt," NT$ "+Object(n["toDisplayString"])(e.price),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",mt,[Object(n["createElementVNode"])("del",pt,"NT$ "+Object(n["toDisplayString"])(e.origin_price),1),Object(n["createElementVNode"])("div",Ot,"NT$ "+Object(n["toDisplayString"])(e.price),1)])),Object(n["createElementVNode"])("button",{type:"button",class:"btn coffee-btn align-self-center",onClick:Object(n["withModifiers"])((function(t){return r.addToCart(e.id)}),["prevent"]),disabled:o.isLoadingItem===e.id},[Object(n["withDirectives"])(Object(n["createElementVNode"])("span",ft,null,512),[[n["vShow"],o.isLoadingItem===e.id]]),vt],8,jt)])])]})),_:2},1032,["to"])])})),128))])]),Object(n["createVNode"])(s,{id:o.productId,onCloseModal:r.hideModal},null,8,["id","onCloseModal"])],64)}var gt=c("fe9f"),Vt=(c("a4d3"),c("e01a"),{id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"}),Nt={class:"modal-dialog modal-xl"},Et={class:"modal-content border-0"},yt={class:"modal-header bg-primary text-white"},kt={id:"productModalLabel",class:"modal-title"},xt={class:"modal-body"},wt={class:"row"},Ct={class:"col-sm-4"},Bt={class:"mb-2"},Lt=["src","alt"],St={class:"col-sm-8"},Dt={class:"row"},Pt={class:"mb-3"},Mt={class:"badge bg-primary rounded-pill"},_t={class:"mb-3"},Tt={class:"mb-3 text-end"},Rt={class:"modal-footer"},It=["value"],$t=Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Ft(e,t,c,a,o,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Vt,[Object(n["createElementVNode"])("div",Nt,[Object(n["createElementVNode"])("div",Et,[Object(n["createElementVNode"])("div",yt,[Object(n["createElementVNode"])("h5",kt,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(o.product.title),1)])]),Object(n["createElementVNode"])("div",xt,[Object(n["createElementVNode"])("div",wt,[Object(n["createElementVNode"])("div",Ct,[Object(n["createElementVNode"])("div",Bt,[Object(n["createElementVNode"])("img",{class:"img-fluid",src:o.product.imageUrl,alt:o.product.title},null,8,Lt)])]),Object(n["createElementVNode"])("div",St,[Object(n["createElementVNode"])("div",Dt,[Object(n["createElementVNode"])("div",Pt,[Object(n["createElementVNode"])("p",Mt," 分類："+Object(n["toDisplayString"])(o.product.category),1)]),Object(n["createElementVNode"])("div",_t,[Object(n["createElementVNode"])("p",null,"商品內容："+Object(n["toDisplayString"])(o.product.description),1)]),Object(n["createElementVNode"])("div",Tt,[Object(n["createElementVNode"])("h6",null,[Object(n["createElementVNode"])("del",null,"原價："+Object(n["toDisplayString"])(o.product.origin_price),1)]),Object(n["createElementVNode"])("h4",null,"特價："+Object(n["toDisplayString"])(o.product.price),1)])])])])]),Object(n["createElementVNode"])("div",Rt,[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{id:"",class:"form-select w-auto","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.qty=e})},[(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(20,(function(e){return Object(n["createElementVNode"])("option",{value:e,key:e},Object(n["toDisplayString"])(e),9,It)})),64))],512),[[n["vModelSelect"],o.qty]]),$t,Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(e){return r.addToCart(c.id)})}," 加入購物車 ")])])])],512)}var Ut="https://vue3-course-api.hexschool.io/v2",qt="ashen",zt={props:["id"],data:function(){return{product:{},qty:1}},methods:{addToCart:function(e){var t=arguments,c=this;return Object(le["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:1,o={product_id:e,qty:c.qty|a},c.isLoadingItem=e,n.prev=3,n.next=6,ue.a.post("".concat(Ut,"/api/").concat(qt,"/cart"),{data:o});case 6:c.isLoadingItem="",c.$emit("closeModal"),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),c.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()}},watch:{id:function(e){var t=this;return Object(le["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,ue.a.get("".concat(Ut,"/api/").concat(qt,"/product/").concat(e));case 3:n=c.sent,t.product=n.data.product,c.next=10;break;case 7:c.prev=7,c.t0=c["catch"](0),t.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:c.t0.response.data.message});case 10:case"end":return c.stop()}}),c,null,[[0,7]])})))()}}};const At=l()(zt,[["render",Ft]]);var Kt=At,Wt=c("7c2b"),Zt=c.n(Wt),Jt="https://vue3-course-api.hexschool.io/v2",Yt="ashen",Ht={components:{ProductModal:Kt,Loading:me.a},data:function(){return{products:[],productId:null,isLoadingItem:"",isLoading:!1,state:"list",category:this.$route.query}},methods:{getProducts:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.get("".concat(Jt,"/api/").concat(Yt,"/products/all"));case 3:c=t.sent,e.products=c.data.products,e.isLoading=!1,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.isLoading=!1,e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},openProductModal:function(e){this.productId=e,this.productModal.show()},addToCart:function(e){var t=arguments,c=this;return Object(le["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:1,o={product_id:e,qty:a},c.isLoadingItem=e,n.prev=3,n.next=6,ue.a.post("".concat(Jt,"/api/").concat(Yt,"/cart"),{data:o});case 6:c.isLoadingItem="",gt["a"].emit("getCartNum"),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),c.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:n.t0.response.data.message});case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()},hideModal:function(){this.productModal.hide()}},mounted:function(){var e,t;this.isLoading=!0,this.getProducts(),this.productModal=new Zt.a(document.getElementById("productModal"),{keyboard:!1}),this.category=null===this||void 0===this||null===(e=this.$route)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.category},watch:{$route:function(e){this.category=e.query.category}},computed:{filterProducts:function(){var e=this;if("全部"===this.category||void 0===this.category)return this.products;var t=this.products.filter((function(t){return t.category===e.category}));return t}}};c("cea0");const Gt=l()(Ht,[["render",ht],["__scopeId","data-v-6e5abd6e"]]);var Qt=Gt,Xt=function(e){return Object(n["pushScopeId"])("data-v-29a11374"),e=e(),Object(n["popScopeId"])(),e},ec={class:"d-none d-lg-block sticky-lg-top"},tc={class:"pt-3"},cc=Xt((function(){return Object(n["createElementVNode"])("h2",null,"產品分類",-1)})),nc={class:"filter-all"},ac=Object(n["createTextVNode"])(" 全站商品 "),oc={class:"accordion accordion-flush",id:"accordionFlushExample"},rc={class:"accordion-item"},lc=Xt((function(){return Object(n["createElementVNode"])("h2",{class:"accordion-header",id:"flush-headingOne"},[Object(n["createElementVNode"])("button",{class:"accordion-button collapsed text-primary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne"}," 咖啡豆 ")],-1)})),dc={id:"flush-collapseOne",class:"accordion-collapse collapse","aria-labelledby":"flush-headingOne"},sc={class:"accordion-body ms-2"},ic={class:"accordion-item"},uc=Xt((function(){return Object(n["createElementVNode"])("h2",{class:"accordion-header",id:"flush-headingTwo"},[Object(n["createElementVNode"])("button",{class:"accordion-button collapsed text-primary",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo"}," 周邊器材 ")],-1)})),bc={id:"flush-collapseTwo",class:"accordion-collapse collapse","aria-labelledby":"flush-headingTwo"},mc={class:"accordion-body ms-2"},pc={class:"d-lg-none d-block"},Oc=Xt((function(){return Object(n["createElementVNode"])("h2",null,"產品分類",-1)})),jc={class:"list-group list-group-flush"},fc={class:"list-group-item py-3"},vc=Object(n["createTextVNode"])(" 全站商品 "),hc={class:"list-group-item"},gc=Xt((function(){return Object(n["createElementVNode"])("span",{class:"badge bg-primary mb-1"},"咖啡豆",-1)})),Vc={class:"breadcrumb mb-0"},Nc={class:"list-group-item"},Ec=Xt((function(){return Object(n["createElementVNode"])("span",{class:"badge bg-primary mb-1"},"周邊器材",-1)})),yc={class:"breadcrumb mb-0"};function kc(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("RouterLink");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("template",ec,[Object(n["createElementVNode"])("div",tc,[cc,Object(n["createElementVNode"])("div",nc,[Object(n["createVNode"])(l,{to:{path:"/products",query:{category:"全部"}}},{default:Object(n["withCtx"])((function(){return[ac]})),_:1})]),Object(n["createElementVNode"])("div",oc,[Object(n["createElementVNode"])("div",rc,[lc,Object(n["createElementVNode"])("div",dc,[Object(n["createElementVNode"])("div",sc,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.categories[1],(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:"d-flex"},[Object(n["createVNode"])(l,{to:{path:"/products",query:{category:e}}},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e),1)]})),_:2},1032,["to"])])})),128))])])]),Object(n["createElementVNode"])("div",ic,[uc,Object(n["createElementVNode"])("div",bc,[Object(n["createElementVNode"])("div",mc,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.categories[2],(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:"d-flex"},[Object(n["createVNode"])(l,{to:{path:"/products",query:{category:e}}},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e),1)]})),_:2},1032,["to"])])})),128))])])])])])]),Object(n["createElementVNode"])("template",pc,[Oc,Object(n["createElementVNode"])("ul",jc,[Object(n["createElementVNode"])("li",fc,[Object(n["createVNode"])(l,{to:{path:"/products",query:{category:"全部"}}},{default:Object(n["withCtx"])((function(){return[vc]})),_:1})]),Object(n["createElementVNode"])("li",hc,[gc,Object(n["createElementVNode"])("ol",Vc,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.categories[1],(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:e,class:"breadcrumb-item"},[Object(n["createVNode"])(l,{to:{path:"/products",query:{category:e}}},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e+"咖啡豆"),1)]})),_:2},1032,["to"])])})),128))])]),Object(n["createElementVNode"])("li",Nc,[Ec,Object(n["createElementVNode"])("ol",yc,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.categories[2],(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:e,class:"breadcrumb-item"},[Object(n["createVNode"])(l,{to:{path:"/products",query:{category:e}}},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e),1)]})),_:2},1032,["to"])])})),128))])])])])],64)}var xc=c("810f"),wc=c.n(xc),Cc={data:function(){return{collapse:void 0,categories:["全部",["淺焙","中焙","深焙"],["馬克杯","磨豆機","咖啡機"]]}},mounted:function(){this.collapse=new wc.a(document.getElementById("accordionFlushExample"),{toggle:!1})}};c("217d");const Bc=l()(Cc,[["render",kc],["__scopeId","data-v-29a11374"]]);var Lc=Bc,Sc={components:{ProductsSidebar:Lc,ProductsList:Qt},mixins:[Oe],data:function(){return{title:"產品列表"}}};const Dc=l()(Sc,[["render",qe]]);var Pc=Dc,Mc={key:0,class:"container main py-3"},_c=Object(n["createElementVNode"])("div",{class:"row text-center px-3"},[Object(n["createElementVNode"])("div",{class:"col-4 d-flex flex-column bg-primary text-secondary p-3"},[Object(n["createElementVNode"])("span",null,"STEP1"),Object(n["createElementVNode"])("span",null,"確認訂單")]),Object(n["createElementVNode"])("div",{class:"col-4 d-flex flex-column p-3 bg-secondary text-primary"},[Object(n["createElementVNode"])("span",null,"STEP2"),Object(n["createElementVNode"])("span",null,"建立訂單")]),Object(n["createElementVNode"])("div",{class:"col-4 d-flex flex-column p-3 bg-secondary text-primary"},[Object(n["createElementVNode"])("span",null,"STEP3"),Object(n["createElementVNode"])("span",null,"完成訂單")])],-1),Tc={class:"row py-3 justify-content-between gx-0"},Rc={class:"col-md-6"},Ic={class:"col-md-5 bg-light bg-opacity-50"},$c=Object(n["createElementVNode"])("p",{class:"d-flex fs-3 fw-bold m-3 text-primary"},"填寫訂購資訊",-1),Fc={key:1,class:"container main py-3"},Uc={class:"d-flex flex-column justify-content-center align-items-center text-primary"},qc=Object(n["createElementVNode"])("i",{class:"bi bi-cart-fill cart-icon"},null,-1),zc=Object(n["createElementVNode"])("p",null,"您的購物車中沒有商品",-1),Ac=Object(n["createElementVNode"])("button",{type:"button",class:"btn coffee-btn"},"去購物",-1);function Kc(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading"),d=Object(n["resolveComponent"])("ShoppingCart"),s=Object(n["resolveComponent"])("ValidateForm"),i=Object(n["resolveComponent"])("RouterLink");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),o.products.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Mc,[_c,Object(n["createElementVNode"])("div",Tc,[Object(n["createElementVNode"])("div",Rc,[Object(n["createVNode"])(d,{onResetPage:r.getCart},null,8,["onResetPage"])]),Object(n["createElementVNode"])("div",Ic,[$c,Object(n["createVNode"])(s,{class:"p-3"})])])])):Object(n["createCommentVNode"])("",!0),0===o.products.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Fc,[Object(n["createElementVNode"])("div",Uc,[qc,zc,Object(n["createVNode"])(i,{to:"/products"},{default:Object(n["withCtx"])((function(){return[Ac]})),_:1})])])):Object(n["createCommentVNode"])("",!0)],64)}c("b0c0");var Wc={class:"text-primary"},Zc=Object(n["createElementVNode"])("small",{class:"text-muted"},[Object(n["createElementVNode"])("span",{class:"text-danger"},"*"),Object(n["createTextVNode"])(" 為必填資料 ")],-1),Jc={class:"my-3"},Yc=Object(n["createElementVNode"])("label",{for:"email",class:"form-label"},[Object(n["createTextVNode"])("Email "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),Hc={class:"mb-3"},Gc=Object(n["createElementVNode"])("label",{for:"name",class:"form-label"},[Object(n["createTextVNode"])("收件人姓名 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),Qc={class:"mb-3"},Xc=Object(n["createElementVNode"])("label",{for:"tel",class:"form-label"},[Object(n["createTextVNode"])("收件人電話 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),en={role:"alert",class:"invalid-feedback"},tn={class:"mb-3"},cn=Object(n["createElementVNode"])("label",{for:"address",class:"form-label"},[Object(n["createTextVNode"])("收件人地址 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),nn={class:"mb-3"},an=Object(n["createElementVNode"])("label",{for:"message",class:"form-label"},"留言",-1),on={class:"text-end"},rn=["disabled"];function ln(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Field"),d=Object(n["resolveComponent"])("ErrorMessage"),s=Object(n["resolveComponent"])("Form");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Wc,[Object(n["createVNode"])(s,{ref:"form",autocomplete:"off",onSubmit:r.onSubmit},{default:Object(n["withCtx"])((function(e){var c=e.errors;return[Zc,Object(n["createElementVNode"])("div",Jc,[Yc,Object(n["createVNode"])(l,{id:"email",name:"email",type:"email",class:Object(n["normalizeClass"])(["form-control",{"is-invalid":c["email"]}]),rules:"required|email",placeholder:"請輸入 Email",modelValue:o.clientFrom.user.email,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.clientFrom.user.email=e})},null,8,["class","modelValue"]),Object(n["createVNode"])(d,{name:"email",class:"invalid-feedback"})]),Object(n["createElementVNode"])("div",Hc,[Gc,Object(n["createVNode"])(l,{id:"name",name:"姓名",type:"text",class:Object(n["normalizeClass"])(["form-control",{"is-invalid":c["姓名"]}]),rules:"required",placeholder:"請輸入姓名",modelValue:o.clientFrom.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.clientFrom.user.name=e})},null,8,["class","modelValue"]),Object(n["createVNode"])(d,{name:"姓名",class:"invalid-feedback"})]),Object(n["createElementVNode"])("div",Qc,[Xc,Object(n["createVNode"])(l,{id:"tel",name:"mobile",type:"tel",class:Object(n["normalizeClass"])(["form-control",{"is-invalid":c["mobile"]}]),rules:r.isPhone,placeholder:"請輸入手機號碼 EX:0923456785",modelValue:o.clientFrom.user.tel,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.clientFrom.user.tel=e})},null,8,["class","rules","modelValue"]),Object(n["createVNode"])(d,{name:"mobile"},{default:Object(n["withCtx"])((function(e){var t=e.message;return[Object(n["createElementVNode"])("span",en,Object(n["toDisplayString"])(t),1)]})),_:1})]),Object(n["createElementVNode"])("div",tn,[cn,Object(n["createVNode"])(l,{id:"address",name:"地址",type:"text",class:Object(n["normalizeClass"])(["form-control",{"is-invalid":c["地址"]}]),rules:"required",placeholder:"請輸入地址",modelValue:o.clientFrom.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.clientFrom.user.address=e})},null,8,["class","modelValue"]),Object(n["createVNode"])(d,{name:"地址",class:"invalid-feedback"})]),Object(n["createElementVNode"])("div",nn,[an,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.clientFrom.message=e})},null,512),[[n["vModelText"],o.clientFrom.message]])]),Object(n["createElementVNode"])("div",on,[Object(n["createElementVNode"])("button",{ref:"sendOrder",type:"submit",class:"btn btn-danger",disabled:!o.isEnableSend}," 送出訂單 ",8,rn)])]})),_:1},8,["onSubmit"])])}var dn=c("7bb1"),sn=c("3aa8"),un=c("cbdf"),bn=c("9457"),mn="https://vue3-course-api.hexschool.io/v2",pn="ashen";Object(dn["e"])("required",sn["c"]),Object(dn["e"])("email",sn["a"]),Object(dn["e"])("min",sn["b"]),Object(dn["d"])({generateMessage:Object(un["a"])({zh_TW:bn})}),Object(un["b"])("zh_TW");var On={data:function(){return{clientFrom:{user:{name:"",email:"",tel:"",address:""},message:""},isEnableSend:!1}},components:{Form:dn["c"],Field:dn["b"],ErrorMessage:dn["a"]},methods:{onSubmit:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.post("".concat(mn,"/api/").concat(pn,"/order"),{data:e.clientFrom});case 3:c=t.sent,e.clientFrom.message="",e.$refs.form.resetForm(),e.$router.push({path:"/CheckOut/".concat(c.data.orderId)}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 12:e.emit();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},emit:function(){gt["a"].emit("clearCart")},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"需要正確的電話號碼"}},mounted:function(){var e=this;gt["a"].on("cartSend",(function(t){e.isEnableSend=t}))}};const jn=l()(On,[["render",ln]]);var fn=jn,vn={class:"d-flex justify-content-around mb-3 text-primary"},hn=Object(n["createElementVNode"])("span",{class:"fs-3 fw-bold"},"確認訂單內容",-1),gn=["disabled"],Vn={class:"list-unstyled text-primary p-3"},Nn={class:"col-md-1"},En=["onClick"],yn={class:"col me-auto px-3 text-center"},kn={class:"col-md-3"},xn={class:"input-group input-group-sm"},wn=["onUpdate:modelValue","onChange","disabled"],Cn=["value"],Bn={class:"input-group-text",id:"basic-addon2"},Ln={class:"text-end mt-1"},Sn={class:"py-3"},Dn={class:"input-group"},Pn={class:"py-3 text-end"},Mn={key:0,class:"text-success"};function _n(e,t,c,a,o,r){var l,d=Object(n["resolveComponent"])("Loading"),s=Object(n["resolveComponent"])("DelCart");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(d,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",vn,[hn,Object(n["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(){return r.openDelCartModal&&r.openDelCartModal.apply(r,arguments)}),class:"btn btn-outline-danger",type:"button",disabled:0===(null===(l=o.cartData.carts)||void 0===l?void 0:l.length)}," 清空購物車 ",8,gn)]),Object(n["createElementVNode"])("ul",Vn,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.cartData.carts,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"py-3 border-bottom d-flex align-items-center",key:e.id},[Object(n["createElementVNode"])("div",Nn,[Object(n["createElementVNode"])("button",{onClick:function(t){return r.removeCartItem(e.id)},type:"button",class:"btn btn-outline-danger btn-sm"}," x ",8,En)]),Object(n["createElementVNode"])("div",yn,Object(n["toDisplayString"])(e.product.title),1),Object(n["createElementVNode"])("div",kn,[Object(n["createElementVNode"])("div",xn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{id:"",class:"form-select","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return r.updateCartItem(e)},disabled:o.isLoadingItem===e.id},[(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(20,(function(t){return Object(n["createElementVNode"])("option",{value:t,key:"".concat(t).concat(e.id)},Object(n["toDisplayString"])(t),9,Cn)})),64))],40,wn),[[n["vModelSelect"],e.qty]]),Object(n["createElementVNode"])("span",Bn,Object(n["toDisplayString"])(e.product.unit),1)]),Object(n["createElementVNode"])("div",Ln,"NT$ "+Object(n["toDisplayString"])(e.final_total),1)])])})),128)),Object(n["createElementVNode"])("li",Sn,[Object(n["createElementVNode"])("p",{class:Object(n["normalizeClass"])([{"text-success":o.isCoupon,"text-danger":!o.isCoupon},"mb-3"])},Object(n["toDisplayString"])(o.couponMsg),3),Object(n["createElementVNode"])("div",Dn,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.couponCode=e}),placeholder:"輸入優惠碼享 8 折優惠"},null,512),[[n["vModelText"],o.couponCode]]),Object(n["createElementVNode"])("button",{type:"button",class:"btn coffee-btn",onClick:t[2]||(t[2]=function(){return r.useCoupon&&r.useCoupon.apply(r,arguments)})}," 套用優惠卷 ")])]),Object(n["createElementVNode"])("li",Pn,[Object(n["createElementVNode"])("p",null,"總計 NT$ "+Object(n["toDisplayString"])(o.cartData.total),1),o.isCoupon?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",Mn," 折扣價 NT$ "+Object(n["toDisplayString"])(o.cartData.final_total),1)):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(s,{ref:"delCart",onDelCart:r.clearAllCarts},null,8,["onDelCart"])],64)}var Tn={id:"delCartModal",ref:"modal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},Rn={class:"modal-dialog"},In={class:"modal-content border-0"},$n=Object(n["createStaticVNode"])('<div class="modal-header bg-danger text-white"><h5 id="delProductModalLabel" class="modal-title"><span>刪除所有購物車內容</span></h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"> 是否確定刪除 <strong class="text-danger">所有購物車內容</strong> ？ </div>',2),Fn={class:"modal-footer"},Un=Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function qn(e,t,c,a,o,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Tn,[Object(n["createElementVNode"])("div",Rn,[Object(n["createElementVNode"])("div",In,[$n,Object(n["createElementVNode"])("div",Fn,[Un,Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return r.deleteCart&&r.deleteCart.apply(r,arguments)})},"確認刪除")])])])],512)}var zn={methods:{openModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()}},mounted:function(){this.modal=new Zt.a(this.$refs.modal)}},An={mixins:[zn],methods:{deleteCart:function(){this.$emit("delCart")}}};const Kn=l()(An,[["render",qn]]);var Wn=Kn,Zn="https://vue3-course-api.hexschool.io/v2",Jn="ashen",Yn={emits:["reset-page"],components:{Loading:me.a,DelCart:Wn},data:function(){return{cartData:{},productId:null,isLoadingItem:"",isLoading:!1,isEnableSend:!1,couponCode:"",isCoupon:!1,couponMsg:""}},methods:{removeCartItem:function(e){var t=this;return Object(le["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t.isLoadingItem=e,c.prev=1,c.next=4,ue.a.delete("".concat(Zn,"/api/").concat(Jn,"/cart/").concat(e));case 4:t.getCart(),t.$emit("reset-page"),t.isLoadingItem="",gt["a"].emit("getCartNum"),c.next=13;break;case 10:c.prev=10,c.t0=c["catch"](1),t.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:c.t0.response.data.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})))()},getCart:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.get("".concat(Zn,"/api/").concat(Jn,"/cart"));case 3:c=t.sent,e.cartData=c.data.data,e.isLoading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},updateCartItem:function(e){var t=this;return Object(le["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n={product_id:e.id,qty:e.qty},c.prev=1,c.next=4,ue.a.put("".concat(Zn,"/api/").concat(Jn,"/cart/").concat(e.id),{data:n});case 4:t.getCart(),t.isLoadingItem="",c.next=11;break;case 8:c.prev=8,c.t0=c["catch"](1),t.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:c.t0.response.data.message});case 11:case"end":return c.stop()}}),c,null,[[1,8]])})))()},clearAllCarts:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.delete("".concat(Zn,"/api/").concat(Jn,"/carts"));case 3:e.getCart(),e.$emit("reset-page"),e.$refs.delCart.hideModal(),gt["a"].emit("getCartNum"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},useCoupon:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c={code:e.couponCode},t.prev=1,t.next=4,ue.a.post("".concat(Zn,"/api/").concat(Jn,"/coupon"),{data:c});case 4:n=t.sent,a=n.data,e.isLoading=!0,e.getCart(),e.isCoupon=!0,e.couponMsg=a.message,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),e.isCoupon=!1,e.couponMsg=t.t0.response.data.message;case 16:case"end":return t.stop()}}),t,null,[[1,12]])})))()},openDelCartModal:function(){var e=this.$refs.delCart;e.openModal()}},watch:{cartData:function(e){0===e.carts.length?this.isEnableSend=!1:this.isEnableSend=!0;var t=this;gt["a"].emit("cartSend",t.isEnableSend)}},created:function(){var e=this;gt["a"].on("clearCart",(function(){e.getCart()}))},mounted:function(){this.isLoading=!0,this.getCart()},unmounted:function(){var e=this;gt["a"].off("clearCart",(function(){e.getCart()}))}};const Hn=l()(Yn,[["render",_n]]);var Gn=Hn,Qn="https://vue3-course-api.hexschool.io/v2",Xn="ashen",ea={mixins:[Oe],components:{ShoppingCart:Gn,ValidateForm:fn,Loading:me.a},data:function(){return{title:"確認訂單",products:[],isLoading:!1}},methods:{getCart:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,ue.a.get("".concat(Qn,"/api/").concat(Xn,"/cart"));case 4:c=t.sent,e.products=c.data.data.carts;case 6:return t.prev=6,e.isLoading=!1,t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})))()},resetCart:function(){this.products=[]}},mounted:function(){this.isLoading=!0,this.getCart()}};c("9975");const ta=l()(ea,[["render",Kc]]);var ca=ta,na=function(e){return Object(n["pushScopeId"])("data-v-afcfe95e"),e=e(),Object(n["popScopeId"])(),e},aa={class:"container main py-3"},oa={class:"row text-center px-3"},ra=na((function(){return Object(n["createElementVNode"])("div",{class:"col-4 d-flex flex-column bg-secondary text-primary p-3"},[Object(n["createElementVNode"])("span",null,"STEP1"),Object(n["createElementVNode"])("span",null,"確認訂單")],-1)})),la=na((function(){return Object(n["createElementVNode"])("span",null,"STEP2",-1)})),da=na((function(){return Object(n["createElementVNode"])("span",null,"建立訂單",-1)})),sa=[la,da],ia=na((function(){return Object(n["createElementVNode"])("span",null,"STEP3",-1)})),ua=na((function(){return Object(n["createElementVNode"])("span",null,"完成訂單",-1)})),ba=[ia,ua],ma={key:0,class:"row py-3 justify-content-between gx-0 text-primary"},pa={class:"col-md-6"},Oa={class:"list-unstyled p-3"},ja={class:"d-flex fs-3 fw-bold"},fa=Object(n["createTextVNode"])(" 訂單內容 "),va={class:"d-flex justify-content-between"},ha=Object(n["createTextVNode"])(" 總計金額：NT$ "),ga={class:"col-md-5 bg-light bg-opacity-50 p-3"},Va=na((function(){return Object(n["createElementVNode"])("p",{class:"fs-3 fw-bold"},"訂購資訊",-1)})),Na={class:"list-unstyled"},Ea={class:"row"},ya=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"訂單金額：",-1)})),ka={class:"col"},xa=Object(n["createTextVNode"])(" NT$ "),wa={class:"row"},Ca=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"訂單編號：",-1)})),Ba={class:"col"},La={class:"row"},Sa=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"訂購時間：",-1)})),Da={class:"col"},Pa={class:"row"},Ma=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"Email：",-1)})),_a={class:"col"},Ta=["href"],Ra={class:"row"},Ia=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"收件人姓名：",-1)})),$a={class:"col"},Fa={class:"row"},Ua=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"聯絡電話",-1)})),qa={class:"col"},za=["href"],Aa={class:"row"},Ka=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"收件地址：",-1)})),Wa={class:"col"},Za={class:"row"},Ja=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"備註：",-1)})),Ya={class:"col"},Ha={class:"row mt-3 px-3"},Ga=Object(n["createTextVNode"])("繼續購物 ！"),Qa={key:1,class:"container my-5 text-primary"},Xa={class:"row"},eo={class:"col-lg-7 col-md-5 mx-auto"},to={class:"card-body"},co=na((function(){return Object(n["createElementVNode"])("div",{class:"text-center fs-1 mb-3"},[Object(n["createElementVNode"])("i",{class:"bi bi-cart-check text-secondary"})],-1)})),no=na((function(){return Object(n["createElementVNode"])("h2",{class:"text-center"},"完成訂單",-1)})),ao=na((function(){return Object(n["createElementVNode"])("div",{class:"border border-secondary my-5"},null,-1)})),oo={class:"accordion my-5",id:"accordionFlushExample"},ro={class:"accordion-item"},lo=na((function(){return Object(n["createElementVNode"])("h2",{class:"accordion-header",id:"flush-headingOne"},[Object(n["createElementVNode"])("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"}," 本次訂購商品 ")],-1)})),so={id:"flush-collapseOne",class:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample"},io={class:"accordion-body"},uo={class:"list-unstyled p-3"},bo={class:"d-flex justify-content-between"},mo={class:"list-unstyled"},po={class:"row"},Oo=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"訂單金額：",-1)})),jo={class:"col"},fo=Object(n["createTextVNode"])(" NT$ "),vo={class:"row"},ho=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"訂單編號：",-1)})),go={class:"col"},Vo={class:"row"},No=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"訂購時間：",-1)})),Eo={class:"col"},yo={class:"row"},ko=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"Email：",-1)})),xo={class:"col"},wo=["href"],Co={class:"row"},Bo=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"收件人姓名：",-1)})),Lo={class:"col"},So={class:"row"},Do=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"聯絡電話",-1)})),Po={class:"col"},Mo=["href"],_o={class:"row"},To=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"收件地址：",-1)})),Ro={class:"col"},Io={class:"row"},$o=na((function(){return Object(n["createElementVNode"])("p",{class:"col-4"},"備註：",-1)})),Fo={class:"col"},Uo={class:"row mt-3 px-3"},qo=Object(n["createTextVNode"])("繼續購物 ！");function zo(e,t,c,a,o,r){var l,d,s,i,u,b,m,p,O,j,f,v,h,g,V,N,E,y,k,x,w,C,B,L,S=Object(n["resolveComponent"])("Loading"),D=Object(n["resolveComponent"])("RouterLink");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(S,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",aa,[Object(n["createElementVNode"])("div",oa,[ra,Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["col-4 d-flex flex-column p-3",o.isPaid?"bg-secondary text-primary":"bg-primary text-secondary"])},sa,2),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["col-4 d-flex flex-column p-3",o.isPaid?"bg-primary text-secondary":"bg-secondary text-primary"])},ba,2)]),o.isPaid?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ma,[Object(n["createElementVNode"])("div",pa,[Object(n["createElementVNode"])("ul",Oa,[Object(n["createElementVNode"])("p",ja,[fa,Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])({"text-danger":!o.isPaid,"text-success":o.isPaid})},"("+Object(n["toDisplayString"])(o.isPaid?"付款成功":"未付款")+")",3)]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.order.products,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"py-3 border-bottom",key:e.id},[Object(n["createElementVNode"])("div",va,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.product.title),1),Object(n["createElementVNode"])("div",null,"NT$ "+Object(n["toDisplayString"])(e.final_total),1)]),Object(n["createElementVNode"])("div",null,"數量："+Object(n["toDisplayString"])(e.qty),1)])})),128)),Object(n["createElementVNode"])("li",null,[ha,Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["fs-5 fw-bold",{"text-danger":!o.isPaid,"text-success":o.isPaid}])},Object(n["toDisplayString"])(o.order.total),3)])])]),Object(n["createElementVNode"])("div",ga,[Va,Object(n["createElementVNode"])("ul",Na,[Object(n["createElementVNode"])("li",Ea,[ya,Object(n["createElementVNode"])("p",ka,[xa,Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["fs-5 fw-bold",{"text-danger":!o.isPaid,"text-success":o.isPaid}])},Object(n["toDisplayString"])(o.order.total),3)])]),Object(n["createElementVNode"])("li",wa,[Ca,Object(n["createElementVNode"])("p",Ba,Object(n["toDisplayString"])(o.order.id),1)]),Object(n["createElementVNode"])("li",La,[Sa,Object(n["createElementVNode"])("p",Da,Object(n["toDisplayString"])(new Date(1e3*o.order.create_at).toLocaleString()),1)]),Object(n["createElementVNode"])("li",Pa,[Ma,Object(n["createElementVNode"])("p",_a,[Object(n["createElementVNode"])("a",{href:"mailto:"+(null===(l=o.order)||void 0===l||null===(d=l.user)||void 0===d?void 0:d.email)},Object(n["toDisplayString"])(null===(s=o.order)||void 0===s||null===(i=s.user)||void 0===i?void 0:i.email),9,Ta)])]),Object(n["createElementVNode"])("li",Ra,[Ia,Object(n["createElementVNode"])("p",$a,Object(n["toDisplayString"])(null===(u=o.order)||void 0===u||null===(b=u.user)||void 0===b?void 0:b.name),1)]),Object(n["createElementVNode"])("li",Fa,[Ua,Object(n["createElementVNode"])("p",qa,[Object(n["createElementVNode"])("a",{href:"tel:+"+(null===(m=o.order)||void 0===m||null===(p=m.user)||void 0===p?void 0:p.tel)},Object(n["toDisplayString"])(null===(O=o.order)||void 0===O||null===(j=O.user)||void 0===j?void 0:j.tel),9,za)])]),Object(n["createElementVNode"])("li",Aa,[Ka,Object(n["createElementVNode"])("p",Wa,Object(n["toDisplayString"])(null===(f=o.order)||void 0===f||null===(v=f.user)||void 0===v?void 0:v.address),1)]),Object(n["createElementVNode"])("li",Za,[Ja,Object(n["createElementVNode"])("p",Ya,Object(n["toDisplayString"])(o.order.message),1)]),Object(n["createElementVNode"])("li",Ha,[o.isPaid?(Object(n["openBlock"])(),Object(n["createBlock"])(D,{key:1,class:"btn coffee-btn p-4 coffee-btn-ls",to:"/Products"},{default:Object(n["withCtx"])((function(){return[Ga]})),_:1})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"btn coffee-btn p-4 coffee-btn-ls",onClick:t[0]||(t[0]=function(){return r.payBill&&r.payBill.apply(r,arguments)})}," 信用卡付款 "))])])])])),o.isPaid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Qa,[Object(n["createElementVNode"])("div",Xa,[Object(n["createElementVNode"])("div",eo,[Object(n["createElementVNode"])("div",to,[co,no,ao,Object(n["createElementVNode"])("div",oo,[Object(n["createElementVNode"])("div",ro,[lo,Object(n["createElementVNode"])("div",so,[Object(n["createElementVNode"])("div",io,[Object(n["createElementVNode"])("ul",uo,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.order.products,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:"py-3 border-custom",key:e.id},[Object(n["createElementVNode"])("div",bo,[Object(n["createElementVNode"])("div",null,Object(n["toDisplayString"])(e.product.title),1),Object(n["createElementVNode"])("div",null,"NT$ "+Object(n["toDisplayString"])(e.final_total),1)]),Object(n["createElementVNode"])("div",null,"數量："+Object(n["toDisplayString"])(e.qty),1)])})),128))])])])])]),Object(n["createElementVNode"])("ul",mo,[Object(n["createElementVNode"])("li",po,[Oo,Object(n["createElementVNode"])("p",jo,[fo,Object(n["createElementVNode"])("span",{class:Object(n["normalizeClass"])(["fs-5 fw-bold",{"text-danger":!o.isPaid,"text-success":o.isPaid}])},Object(n["toDisplayString"])(o.order.total),3)])]),Object(n["createElementVNode"])("li",vo,[ho,Object(n["createElementVNode"])("p",go,Object(n["toDisplayString"])(o.order.id),1)]),Object(n["createElementVNode"])("li",Vo,[No,Object(n["createElementVNode"])("p",Eo,Object(n["toDisplayString"])(new Date(1e3*o.order.create_at).toLocaleString()),1)]),Object(n["createElementVNode"])("li",yo,[ko,Object(n["createElementVNode"])("p",xo,[Object(n["createElementVNode"])("a",{href:"mailto:"+(null===(h=o.order)||void 0===h||null===(g=h.user)||void 0===g?void 0:g.email)},Object(n["toDisplayString"])(null===(V=o.order)||void 0===V||null===(N=V.user)||void 0===N?void 0:N.email),9,wo)])]),Object(n["createElementVNode"])("li",Co,[Bo,Object(n["createElementVNode"])("p",Lo,Object(n["toDisplayString"])(null===(E=o.order)||void 0===E||null===(y=E.user)||void 0===y?void 0:y.name),1)]),Object(n["createElementVNode"])("li",So,[Do,Object(n["createElementVNode"])("p",Po,[Object(n["createElementVNode"])("a",{href:"tel:+"+(null===(k=o.order)||void 0===k||null===(x=k.user)||void 0===x?void 0:x.tel)},Object(n["toDisplayString"])(null===(w=o.order)||void 0===w||null===(C=w.user)||void 0===C?void 0:C.tel),9,Mo)])]),Object(n["createElementVNode"])("li",_o,[To,Object(n["createElementVNode"])("p",Ro,Object(n["toDisplayString"])(null===(B=o.order)||void 0===B||null===(L=B.user)||void 0===L?void 0:L.address),1)]),Object(n["createElementVNode"])("li",Io,[$o,Object(n["createElementVNode"])("p",Fo,Object(n["toDisplayString"])(o.order.message),1)]),Object(n["createElementVNode"])("li",Uo,[o.isPaid?(Object(n["openBlock"])(),Object(n["createBlock"])(D,{key:1,class:"btn coffee-btn p-4 coffee-btn-ls",to:"/Products"},{default:Object(n["withCtx"])((function(){return[qo]})),_:1})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"btn coffee-btn p-4 coffee-btn-ls",onClick:t[1]||(t[1]=function(){return r.payBill&&r.payBill.apply(r,arguments)})}," 信用卡付款 "))])])])])])])):Object(n["createCommentVNode"])("",!0)])],64)}var Ao=c("3d20"),Ko=c.n(Ao),Wo="https://vue3-course-api.hexschool.io/v2",Zo="ashen",Jo={mixins:[Oe],components:{Loading:me.a},data:function(){return{title:"建立訂單",id:this.$route.params.id,order:{},isPaid:!1,isLoading:!1}},methods:{getOrder:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ue.a.get("".concat(Wo,"/api/").concat(Zo,"/order/").concat(e.id));case 3:c=t.sent,n=c.data,e.order=n.order,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.isLoading=!1,e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 12:e.isLoading=!1;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},payBill:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,ue.a.post("".concat(Wo,"/api/").concat(Zo,"/pay/").concat(e.id));case 4:Ko.a.fire({iconHtml:'<i class="bi bi-emoji-smile"></i>',timer:2e3,showConfirmButton:!1,title:"感謝您購買我們的產品，期待您的再次光臨！"}),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](1),e.isLoading=!1,e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 11:document.title="完成訂單",e.isPaid=!0,e.isLoading=!1,gt["a"].emit("getCartNum");case 15:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},mounted:function(){this.isLoading=!0,this.getOrder()}};c("d1f3");const Yo=l()(Jo,[["render",zo],["__scopeId","data-v-afcfe95e"]]);var Ho=Yo,Go={class:"container"},Qo={class:"py-2 border-bottom"},Xo={class:"breadcrumb mb-0"},er={class:"breadcrumb-item text-primary"},tr=Object(n["createTextVNode"])(" 首頁 "),cr=Object(n["createElementVNode"])("li",{class:"breadcrumb-item active"},"咖啡知識",-1),nr={class:"row mt-3"},ar={class:"col-md-3"},or={class:"d-flex flex-md-column"},rr={class:"col-md-9"};function lr(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("RouterLink"),d=Object(n["resolveComponent"])("CoffeeKind"),s=Object(n["resolveComponent"])("CoffeeRoast"),i=Object(n["resolveComponent"])("CoffeeBrew");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Go,[Object(n["createElementVNode"])("nav",Qo,[Object(n["createElementVNode"])("ol",Xo,[Object(n["createElementVNode"])("li",er,[Object(n["createVNode"])(l,{to:"/"},{default:Object(n["withCtx"])((function(){return[tr]})),_:1})]),cr])]),Object(n["createElementVNode"])("div",nr,[Object(n["createElementVNode"])("div",ar,[Object(n["createElementVNode"])("div",or,[Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn",{"btn-primary":"coffeeKind"===o.state}]),type:"button",onClick:t[0]||(t[0]=function(t){o.state="coffeeKind",e.$route.query.state="coffeeKind"})}," 咖啡品種 ",2),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn",{"btn-primary":"coffeeRoast"===o.state}]),type:"button",onClick:t[1]||(t[1]=function(t){o.state="coffeeRoast",e.$route.query.state="coffeeRoast"})}," 咖啡豆烘焙 ",2),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["btn",{"btn-primary":"coffeeBrew"===o.state}]),type:"button",onClick:t[2]||(t[2]=function(t){o.state="coffeeBrew",e.$route.query.state="coffeeBrew"})}," 手沖咖啡技巧 ",2)])]),Object(n["createElementVNode"])("div",rr,["coffeeKind"===e.$route.query.state|"coffeeKind"===o.state?(Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:0})):Object(n["createCommentVNode"])("",!0),"coffeeRoast"===e.$route.query.state|"coffeeRoast"===o.state?(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:1})):Object(n["createCommentVNode"])("",!0),"coffeeBrew"===e.$route.query.state|"coffeeBrew"===o.state?(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:2})):Object(n["createCommentVNode"])("",!0)])])])}var dr={class:"text-primary"},sr=Object(n["createStaticVNode"])('<h3 class="coffee-header" data-v-27401d3a>咖啡品種｜阿拉比卡和羅布斯塔有什麼差別？</h3><p data-v-27401d3a> 世界上的咖啡品種很多，但大量用於商業用途的主要有<a href="https://zh.wikipedia.org/wiki/%E5%B0%8F%E6%9E%9C%E5%92%96%E5%95%A1" target="_blank" rel="noopener noreferrer" data-v-27401d3a>阿拉比卡</a>和<a href="https://zh.wikipedia.org/wiki/%E7%BE%85%E5%B8%83%E6%96%AF%E5%A1%94%E5%92%96%E5%95%A1" target="_blank" rel="noopener noreferrer" data-v-27401d3a>羅布斯塔</a>兩種： </p><table class="table table-bordered border-secondary" data-v-27401d3a><tbody data-v-27401d3a><tr data-v-27401d3a><td width="20%" data-v-27401d3a>咖啡品種</td><td width="30%" data-v-27401d3a>阿拉比卡咖啡豆</td><td width="30%" data-v-27401d3a>羅布斯塔咖啡豆</td></tr><tr data-v-27401d3a><td data-v-27401d3a>種植地區</td><td data-v-27401d3a>海拔較高</td><td data-v-27401d3a>海拔較低</td></tr><tr data-v-27401d3a><td data-v-27401d3a>豆子外型</td><td data-v-27401d3a>較長、較扁，中央線為S形</td><td data-v-27401d3a>豆體較圓，中央線比較直</td></tr><tr data-v-27401d3a><td data-v-27401d3a>咖啡因</td><td data-v-27401d3a>咖啡因含量較低</td><td data-v-27401d3a>咖啡因含量較高</td></tr></tbody></table><h3 class="coffee-header" data-v-27401d3a>咖啡豆6大產地，如何找到適合自己的咖啡風味？</h3><p data-v-27401d3a> 咖啡豆的產地主要來自非洲、南美洲及亞洲地區，非洲產出的咖啡豆大多帶有水果酸味及香氣；南美洲整體平衡感佳，口感明亮清爽；亞洲則是酸度低並帶有香料風味，建議根據個人喜好選擇合適的咖啡豆，以下為你介紹世界6大咖啡產地作為參考： </p><ol data-v-27401d3a><li data-v-27401d3a> 巴西：比起其他中南美洲的咖啡豆，巴西咖啡豆的種植海拔相對較低，因此風味也比較獨特，酸度低並帶有巧克力及堅果的香氣，酸苦平衡佳且風味醇厚。 </li><li data-v-27401d3a> 越南：越南是咖啡輸出的主要國家之一，主要盛產羅布斯塔咖啡豆，咖啡風味相對苦澀，通常會加入煉乳飲用，屬於越南咖啡的特殊喝法。 </li><li data-v-27401d3a> 印尼：印尼咖啡具有獨特的木質香氣，風味醇厚、酸味明亮，常見的曼特寧、黃金曼特寧是印尼咖啡的代表作。 </li><li data-v-27401d3a> 哥倫比亞：水果香氣濃郁、咖啡酸度高並帶有清香是哥倫比亞咖啡豆的特色，有些甚至帶有堅果的香氣，堆疊出多層次的口感，喝起來香醇順口。 </li><li data-v-27401d3a> 印度：印度咖啡最著名的是風漬處理法製成的咖啡豆，咖啡酸味低、缺少層次感，但風味濃郁，獨特的風味使其獲得兩極的評價。 </li><li data-v-27401d3a> 衣索比亞：衣索比亞咖啡在精品咖啡界擁有一定的地位，常見的耶加雪菲就是衣索比亞咖啡的代表之一，酸質明亮、花香濃郁以及餘韻飽滿綿長的特色，是很多咖啡愛好者的首選。 </li></ol>',6),ir=[sr];function ur(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",dr,ir)}c("ac65");const br={},mr=l()(br,[["render",ur],["__scopeId","data-v-27401d3a"]]);var pr=mr,Or={class:"mt-3 text-primary"},jr=Object(n["createStaticVNode"])('<h3 class="coffee-header" data-v-5c439528>咖啡的烘焙</h3><p data-v-5c439528> 豆子烘烤的時間，會影響外觀和味道。最簡單的判斷方式是，豆子烘烤的時間越長，酸味越淡，咖啡因含量也越少。以下我們簡單列出不同烘焙時間會產生的咖啡風味，提供你參考。 </p><div class="row mt-3" data-v-5c439528><div class="col-md-6" data-v-5c439528><div class="m-1" data-v-5c439528><h3 class="coffee-header" data-v-5c439528>極淺焙（light roast）</h3><p data-v-5c439528>有濃厚的青草味，香氣不足，很少用來品嚐。</p></div><div class="m-1" data-v-5c439528><h3 class="coffee-header" data-v-5c439528>淺焙（cinnamon roast）</h3><p data-v-5c439528>酸度高，略帶香氣，常用來沖美式咖啡。</p></div></div><div class="col-md-6 d-none d-md-block" data-v-5c439528><div class="bg-roast-image1" data-v-5c439528></div></div></div><div class="row mt-3" data-v-5c439528><div class="col-md-6 d-none d-md-block" data-v-5c439528><div class="bg-roast-image2" data-v-5c439528></div></div><div class="col-md-6" data-v-5c439528><div class="m-1" data-v-5c439528><h3 class="coffee-header" data-v-5c439528>中焙（medium roast）</h3><p data-v-5c439528> 口感偏酸帶苦，香氣適中，保留咖啡豆的原始風味，常用來做美式咖啡或混合咖啡。 </p></div><div class="m-1" data-v-5c439528><h3 class="coffee-header" data-v-5c439528>中深焙（high roast）</h3><p data-v-5c439528>口感層次豐富、酸苦均衡且略帶甜味，香氣風味都好。</p></div><div class="m-1" data-v-5c439528><h3 class="coffee-header" data-v-5c439528>城市烘焙（city roast）</h3><p data-v-5c439528> 比中深焙的酸度低一些，完美展現咖啡的風味，是標準的烘焙程度，最受一般大眾歡迎。 </p></div></div></div><div class="row mt-3" data-v-5c439528><div class="col-md-6" data-v-5c439528><div class="m-1" data-v-5c439528><h3 class="coffee-header" data-v-5c439528>深焙（full city roast）</h3><p data-v-5c439528>苦味比酸味強，餘味回甘，香氣飽滿，多用來做冰咖啡或黑咖啡。</p></div><div class="m-1" data-v-5c439528><h3 class="coffee-header" data-v-5c439528>法式烘焙（French roast）</h3><p data-v-5c439528>苦味濃、味道強烈，沒什麼酸味，帶有煙熏香氣。</p></div><div class="m-1" data-v-5c439528><h3 class="coffee-header" data-v-5c439528>重焙（Italian roast）</h3><p data-v-5c439528>豆子表面有油光，苦味強，有焦味，主要用來做義式濃縮咖啡。</p></div></div><div class="col-md-6 d-none d-md-block" data-v-5c439528><div class="bg-roast-image3" data-v-5c439528></div></div></div>',5),fr=[jr];function vr(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Or,fr)}c("761c");const hr={},gr=l()(hr,[["render",vr],["__scopeId","data-v-5c439528"]]);var Vr=gr,Nr={class:"text-primary"},Er=Object(n["createStaticVNode"])('<h3 class="coffee-header" data-v-9153e3ba>手沖咖啡比例</h3><p data-v-9153e3ba> 比例到底要抓多少才好喝？其實沒有一定的標準，因為每個人喜愛的咖啡濃度不同，新手第一次嘗試，建議用黃金比例1:10~1:16（咖啡粉：總注水量）較不容易失敗。 </p><p data-v-9153e3ba> 假設今天準備10克咖啡粉，搭配100～160c.c.的熱水進行沖泡，此範圍都能沖出一杯濃淡度適中的咖啡。 </p><div class="border border-3 rounded border-secondary" data-v-9153e3ba><p data-v-9153e3ba><strong data-v-9153e3ba>【補充小知識】</strong></p><p class="ms-3" data-v-9153e3ba> 準備的總注水量不等於萃取出的咖啡液，因為在注水的過程，咖啡粉會吸收大約1.5~2倍水量，或是避免萃取的時間太久，並不會將濾杯的水完全滴完，也就是使用160c.c的水，實際得到的咖啡液體會比較少喔。 </p></div><h3 class="coffee-header" data-v-9153e3ba>手沖咖啡溫度&amp;時間</h3><p data-v-9153e3ba> 手沖咖啡的溫度影響者咖啡的香氣和口感，建議手沖咖啡的水溫掌握在85～95℃之間，高溫的特色是讓咖啡的香氣更明顯，但超過95℃容易帶出咖啡粉的雜質，沖出苦澀的咖啡。 </p><p data-v-9153e3ba> 低溫的特色是能帶出咖啡的酸甜味，不會過度萃取引出咖啡的苦味，但口感喝起來涼涼的。 </p><p data-v-9153e3ba>手沖咖啡新手也能體驗沖煮不同水溫，比較85℃、90℃的口感找到自己的最愛！</p><div class="border border-3 rounded border-secondary" data-v-9153e3ba><p data-v-9153e3ba><strong data-v-9153e3ba>【補充小知識】</strong></p><p class="ms-3" data-v-9153e3ba> 除了水溫，萃取的時間同樣影響咖啡口感，喜歡喝酸一點的咖啡，萃取的時間可以縮短，反之萃取時間拉長，就能帶出咖啡硬派的苦感。 </p></div><h3 class="coffee-header" data-v-9153e3ba>咖啡粉研磨粗細</h3><p data-v-9153e3ba> 如果咖啡粉太粗，便無法萃取出完整的風味和物質，沖出來咖啡口感較薄、味道較淡；若研磨得太細，又可能會萃取出太多物質，因而得到口感濃烈、苦澀的咖啡，甚至令人難以下嚥。建議將咖啡豆研磨至砂糖（或再細一點）的大小，且顆粒均勻，在沖泡之前，可以使用篩子將過於細小的粉末篩出，避免沖煮時無法完全過濾雜質。 </p><div class="border border-3 rounded border-secondary" data-v-9153e3ba><p data-v-9153e3ba><strong data-v-9153e3ba>【補充小知識】</strong></p><p class="ms-3" data-v-9153e3ba> 咖啡豆的新鮮度同樣不可忽視，如果咖啡豆不小心放太久，比較不容易萃取，這時將咖啡豆磨細一些可以提高萃取率。 </p></div>',12),yr=[Er];function kr(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Nr,yr)}c("0d7e");const xr={},wr=l()(xr,[["render",kr],["__scopeId","data-v-9153e3ba"]]);var Cr=wr,Br={components:{CoffeeKind:pr,CoffeeRoast:Vr,CoffeeBrew:Cr},mixins:[Oe],data:function(){return{state:"coffeeKind",title:"咖啡知識"}},methods:{goTop:function(){document.documentElement.scrollTop=0}},mounted:function(){this.goTop()}};const Lr=l()(Br,[["render",lr]]);var Sr=Lr,Dr={class:"container"},Pr=Object(n["createElementVNode"])("h2",{class:"text-center mb-5"},"訂單後台管理中心",-1),Mr={class:"form-floating mb-3"},_r=Object(n["createElementVNode"])("label",{for:"floatingInput"},"請輸入管理員信箱",-1),Tr={class:"form-floating"},Rr=Object(n["createElementVNode"])("label",{for:"floatingPassword"},"請輸入密碼",-1),Ir=Object(n["createElementVNode"])("div",{class:"form-check my-3"},[Object(n["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckChecked"}),Object(n["createElementVNode"])("label",{class:"form-check-label",for:"flexCheckChecked"}," 記住我 ")],-1),$r=Object(n["createElementVNode"])("button",{type:"submit",class:"btn btn-lg btn-primary w-100 mt-3"}," 登入 ",-1),Fr={key:0,class:"text-danger"},Ur=Object(n["createElementVNode"])("p",{class:"mt-5 mb-3 text-muted"},"© 2021~∞ - 六角學院",-1);function qr(e,t,c,a,o,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Dr,[Object(n["createElementVNode"])("form",{class:"formlogin",onSubmit:t[2]||(t[2]=Object(n["withModifiers"])((function(){return r.signIn&&r.signIn.apply(r,arguments)}),["prevent"]))},[Pr,Object(n["createElementVNode"])("div",Mr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"email",class:"form-control",id:"floatingInput",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.user.username=e}),required:"",autofocus:""},null,512),[[n["vModelText"],o.user.username]]),_r]),Object(n["createElementVNode"])("div",Tr,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"password",class:"form-control",id:"floatingPassword","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.user.password=e}),placeholder:"Password"},null,512),[[n["vModelText"],o.user.password]]),Rr]),Ir,$r,o.state?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",Fr,"帳號或密碼有誤，請重新輸入")),Ur],32)])}c("5319");var zr="https://vue3-course-api.hexschool.io/v2",Ar="ashen";function Kr(e){return Wr.apply(this,arguments)}function Wr(){return Wr=Object(le["a"])(regeneratorRuntime.mark((function e(t){var c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.post("".concat(zr,"/admin/signin"),t);case 3:return c=e.sent,n=c.data,document.cookie="hexToken=".concat(n.token,"; expires=").concat(new Date(n.expired),";"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e["catch"](0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),Wr.apply(this,arguments)}function Zr(){return Jr.apply(this,arguments)}function Jr(){return Jr=Object(le["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),ue.a.defaults.headers.common.Authorization=t,e.prev=2,e.next=5,ue.a.post("".concat(zr,"/api/user/check"));case 5:Wu.push("/admin"),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),Ko.a.fire({icon:"error",text:e.t0.response.data.message}),Wu.push("/Login");case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),Jr.apply(this,arguments)}function Yr(e){return Hr.apply(this,arguments)}function Hr(){return Hr=Object(le["a"])(regeneratorRuntime.mark((function e(t){var c,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.get("".concat(zr,"/api/").concat(Ar,"/admin/products?page=").concat(t));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e["catch"](0),Ko.a.fire({icon:"error",timer:2e3,showConfirmButton:!1,text:e.t0.response.data.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),Hr.apply(this,arguments)}function Gr(e){return Qr.apply(this,arguments)}function Qr(){return Qr=Object(le["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.post("".concat(zr,"/api/").concat(Ar,"/admin/product"),t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),Ko.a.fire({icon:"error",text:e.t0.response.data.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),Qr.apply(this,arguments)}function Xr(e){return el.apply(this,arguments)}function el(){return el=Object(le["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.put("".concat(zr,"/api/").concat(Ar,"/admin/product/").concat(t.data.id),t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),Ko.a.fire({icon:"error",timer:2e3,showConfirmButton:!1,text:e.t0.response.data.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),el.apply(this,arguments)}function tl(e){return cl.apply(this,arguments)}function cl(){return cl=Object(le["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ue.a.delete("".concat(zr,"/api/").concat(Ar,"/admin/product/").concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),Ko.a.fire({icon:"error",timer:2e3,showConfirmButton:!1,text:e.t0.response.data.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),cl.apply(this,arguments)}var nl={mixins:[Oe],data:function(){return{title:"後台管理",state:!0,user:{username:"",password:""}}},methods:{signIn:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kr(e.user);case 3:c=t.sent,e.state=c,!0===c?Wu.push("/admin"):!1===c&&(e.user={}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},mounted:function(){Zr()}};c("b21c");const al=l()(nl,[["render",qr]]);var ol=al,rl={class:"d-flex"},ll={class:"main w-100"};function dl(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Navbar"),d=Object(n["resolveComponent"])("Sidebar"),s=Object(n["resolveComponent"])("RouterView");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l),Object(n["createElementVNode"])("div",rl,[Object(n["createVNode"])(d),Object(n["createElementVNode"])("main",ll,[Object(n["createVNode"])(s)])])],64)}var sl={class:"navbar navbar-expand-lg navbar-light bg-light px-3"},il=Object(n["createTextVNode"])(" 專賣店後台 "),ul={class:"collapse navbar-collapse justify-content-end",id:"navbarNav"},bl={class:"navbar-nav"},ml={class:"nav-item"},pl=Object(n["createTextVNode"])(" 回首頁 "),Ol={class:"nav-item"};function jl(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("RouterLink");return Object(n["openBlock"])(),Object(n["createElementBlock"])("nav",sl,[Object(n["createVNode"])(l,{class:"nav-link",to:"/admin"},{default:Object(n["withCtx"])((function(){return[il]})),_:1}),Object(n["createElementVNode"])("div",ul,[Object(n["createElementVNode"])("ul",bl,[Object(n["createElementVNode"])("li",ml,[Object(n["createVNode"])(l,{class:"nav-link",to:"/"},{default:Object(n["withCtx"])((function(){return[pl]})),_:1})]),Object(n["createElementVNode"])("li",Ol,[Object(n["createElementVNode"])("a",{class:"nav-link logout",onClick:t[0]||(t[0]=function(){return r.logout&&r.logout.apply(r,arguments)})}," 登出 ")])])])])}var fl={methods:{logout:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c="".concat("https://vue3-course-api.hexschool.io/v2","/logout"),t.prev=1,t.next=4,ue.a.post(c);case 4:document.cookie="hexToken=;expires=;",e.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}};c("7f5f");const vl=l()(fl,[["render",jl],["__scopeId","data-v-6964fb54"]]);var hl=vl,gl={class:"sidebar"},Vl={class:"list-group list-group-flush bg-transparent"},Nl={class:"list-group-item"},El=Object(n["createTextVNode"])("產品"),yl={class:"list-group-item"},kl=Object(n["createTextVNode"])("優惠卷"),xl={class:"list-group-item"},wl=Object(n["createTextVNode"])("訂單");function Cl(e,t){var c=Object(n["resolveComponent"])("RouterLink");return Object(n["openBlock"])(),Object(n["createElementBlock"])("aside",gl,[Object(n["createElementVNode"])("ul",Vl,[Object(n["createElementVNode"])("li",Nl,[Object(n["createVNode"])(c,{class:"nav-link",to:"/admin"},{default:Object(n["withCtx"])((function(){return[El]})),_:1})]),Object(n["createElementVNode"])("li",yl,[Object(n["createVNode"])(c,{class:"nav-link",to:"/admin/Coupons"},{default:Object(n["withCtx"])((function(){return[kl]})),_:1})]),Object(n["createElementVNode"])("li",xl,[Object(n["createVNode"])(c,{class:"nav-link",to:"/admin/Orders"},{default:Object(n["withCtx"])((function(){return[wl]})),_:1})])])])}c("3a78");const Bl={},Ll=l()(Bl,[["render",Cl],["__scopeId","data-v-67a5998d"]]);var Sl=Ll,Dl={components:{Navbar:hl,Sidebar:Sl},created:function(){Zr()},watch:{$route:function(e){"products"===e.name?document.title="產品管理":"Coupons"===e.name?document.title="優惠卷管理":"Orders"===e.name&&(document.title="訂單管理")}}};c("52a5");const Pl=l()(Dl,[["render",dl]]);var Ml=Pl,_l={class:"container"},Tl={class:"text-end mt-4"},Rl={class:"table mt-4"},Il=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",{width:"120"},"主分類"),Object(n["createElementVNode"])("th",{width:"120"},"次分類"),Object(n["createElementVNode"])("th",null,"產品名稱"),Object(n["createElementVNode"])("th",{width:"120"},"原價"),Object(n["createElementVNode"])("th",{width:"120"},"售價"),Object(n["createElementVNode"])("th",{width:"100"},"是否啟用"),Object(n["createElementVNode"])("th",{width:"120"},"編輯")])],-1),$l={class:"text-end"},Fl={class:"text-end"},Ul={key:0,class:"text-success"},ql={key:1},zl={class:"btn-group"},Al=["onClick"],Kl=["onClick"];function Wl(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading"),d=Object(n["resolveComponent"])("Pagination"),s=Object(n["resolveComponent"])("ProductModal"),i=Object(n["resolveComponent"])("DelProductModal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",_l,[Object(n["createElementVNode"])("div",Tl,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=function(e){return r.showModal("new")})}," 建立新的產品 ")]),Object(n["createElementVNode"])("table",Rl,[Il,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.products,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:e.id},[Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.classification),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.category),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.title),1),Object(n["createElementVNode"])("td",$l,Object(n["toDisplayString"])(e.origin_price),1),Object(n["createElementVNode"])("td",Fl,Object(n["toDisplayString"])(e.price),1),Object(n["createElementVNode"])("td",null,[e.is_enabled?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Ul,"啟用")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",ql,"未啟用"))]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",zl,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return r.showModal("update",e)}}," 編輯 ",8,Al),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return r.showModal("delete",e)}}," 刪除 ",8,Kl)])])])})),128))])]),Object(n["createVNode"])(d,{pages:o.pagination,onEmitpages:r.init},null,8,["pages","onEmitpages"])]),Object(n["createVNode"])(s,{productinfo:o.tempProduct,state:o.isNew,onUpdate:r.init},null,8,["productinfo","state","onUpdate"]),Object(n["createVNode"])(i,{productinfo:o.tempProduct,onUpdate:r.init},null,8,["productinfo","onUpdate"])],64)}var Zl=c("5530"),Jl=(c("e9c4"),function(e){return Object(n["pushScopeId"])("data-v-879e66e4"),e=e(),Object(n["popScopeId"])(),e}),Yl={key:0},Hl={class:"pagination justify-content-center"},Gl=Jl((function(){return Object(n["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1)})),Ql=[Gl],Xl={key:0,class:"page-link"},ed=["onClick"],td=Jl((function(){return Object(n["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1)})),cd=[td];function nd(e,t,c,a,o,r){return c.pages?(Object(n["openBlock"])(),Object(n["createElementBlock"])("nav",Yl,[Object(n["createElementVNode"])("ul",Hl,[Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["page-item",{disabled:1===c.pages.current_page}])},[Object(n["createElementVNode"])("a",{href:"#",class:"page-link",onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(e){return r.emitpages(c.pages.current_page-1)}),["prevent"]))},Ql)],2),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.pages.total_pages,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["page-item",{active:e===c.pages.current_page}]),"aria-current":"page",key:t},[e===c.pages.current_page?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Xl,Object(n["toDisplayString"])(e),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{key:1,href:"#",class:"page-link",onClick:Object(n["withModifiers"])((function(t){return r.emitpages(e)}),["prevent"])},Object(n["toDisplayString"])(e),9,ed))],2)})),128)),Object(n["createElementVNode"])("li",{class:Object(n["normalizeClass"])(["page-item",{disabled:c.pages.current_page===c.pages.total_pages}])},[Object(n["createElementVNode"])("a",{href:"#",class:"page-link",onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(e){return r.emitpages(c.pages.current_page+1)}),["prevent"]))},cd)],2)])])):Object(n["createCommentVNode"])("",!0)}var ad={props:["pages"],methods:{emitpages:function(e){this.$emit("emitpages",e)}}};c("ca9a");const od=l()(ad,[["render",nd],["__scopeId","data-v-879e66e4"]]);var rd=od,ld={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},dd={class:"modal-dialog modal-xl"},sd={class:"modal-content border-0"},id={class:"modal-header bg-primary text-white"},ud={id:"productModalLabel",class:"modal-title"},bd={key:0},md={key:1},pd=Object(n["createElementVNode"])("button",{type:"button",class:"btn-close bg-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Od={class:"modal-body"},jd={class:"row"},fd={class:"col-sm-4"},vd={class:"mb-2"},hd={class:"mb-3"},gd=Object(n["createElementVNode"])("label",{for:"imageUrl",class:"form-label"},"主要圖片網址",-1),Vd=["src"],Nd={class:"mb-2"},Ed={class:"mb-3"},yd=Object(n["createElementVNode"])("label",{for:"customImage",class:"form-label"},"從本地端上傳圖片",-1),kd=["src"],xd=Object(n["createElementVNode"])("h3",null,"多圖新增",-1),wd={key:0},Cd=Object(n["createElementVNode"])("label",{for:"imageUrl",class:"form-label"},"圖片網址",-1),Bd=["onUpdate:modelValue"],Ld=["src"],Sd={key:0},Dd={key:1},Pd={key:1},Md={class:"col-sm-8"},_d={class:"mb-3"},Td=Object(n["createElementVNode"])("label",{for:"title",class:"form-label"},[Object(n["createTextVNode"])("標題 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),Rd={class:"row"},Id={class:"mb-3 col-md-3"},$d=Object(n["createElementVNode"])("label",{for:"category",class:"form-label"},[Object(n["createTextVNode"])("主分類 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),Fd={class:"mb-3 col-md-3"},Ud=Object(n["createElementVNode"])("label",{for:"category",class:"form-label"},[Object(n["createTextVNode"])("次分類 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),qd={class:"mb-3 col-md-6"},zd=Object(n["createElementVNode"])("label",{for:"price",class:"form-label"},[Object(n["createTextVNode"])("單位 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),Ad={class:"row"},Kd={class:"mb-3 col-md-6"},Wd=Object(n["createElementVNode"])("label",{for:"origin_price",class:"form-label"},"原價",-1),Zd={class:"mb-3 col-md-6"},Jd=Object(n["createElementVNode"])("label",{for:"price",class:"form-label"},"售價",-1),Yd=Object(n["createElementVNode"])("hr",null,null,-1),Hd={class:"mb-3"},Gd=Object(n["createElementVNode"])("label",{for:"description",class:"form-label"},"產品描述",-1),Qd={class:"mb-3"},Xd=Object(n["createElementVNode"])("label",{for:"content",class:"form-label"},"說明內容",-1),es={class:"mb-3"},ts={class:"form-check"},cs=Object(n["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),ns={class:"modal-footer"},as=Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function os(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",ld,[Object(n["createElementVNode"])("div",dd,[Object(n["createElementVNode"])("div",sd,[Object(n["createElementVNode"])("div",id,[Object(n["createElementVNode"])("h5",ud,[o.isNew?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",bd,"新增產品")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",md,"編輯產品"))]),pd]),Object(n["createElementVNode"])("div",Od,[Object(n["createElementVNode"])("div",jd,[Object(n["createElementVNode"])("div",fd,[Object(n["createElementVNode"])("div",vd,[Object(n["createElementVNode"])("div",hd,[gd,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入主要圖片連結","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.tempProduct.imageUrl=e})},null,512),[[n["vModelText"],o.tempProduct.imageUrl]])]),o.tempProduct.imageUrl?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"img-fluid",src:o.tempProduct.imageUrl,alt:"主要圖片連結"},null,8,Vd)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",Nd,[Object(n["createElementVNode"])("div",Ed,[yd,Object(n["createElementVNode"])("input",{ref:"fileInput",type:"file",class:"form-control",id:"customImage",onChange:t[1]||(t[1]=function(){return r.customImageFile&&r.customImageFile.apply(r,arguments)})},null,544)]),o.tempProduct.fileImage?(Object(n["openBlock"])(),Object(n["createElementBlock"])("img",{key:0,class:"img-fluid",src:o.tempProduct.fileImage,alt:"從本地端上傳圖片"},null,8,kd)):Object(n["createCommentVNode"])("",!0)]),xd,Array.isArray(o.tempProduct.imagesUrl)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",wd,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.tempProduct.imagesUrl,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t},[Cd,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",class:"form-control",placeholder:"請輸入次要圖片連結","onUpdate:modelValue":function(e){return o.tempProduct.imagesUrl[t]=e}},null,8,Bd),[[n["vModelText"],o.tempProduct.imagesUrl[t]]]),Object(n["createElementVNode"])("img",{class:"img-fluid",src:e,alt:"次要圖片連結"},null,8,Ld)])})),128)),!o.tempProduct.imagesUrl.length||o.tempProduct.imagesUrl[o.tempProduct.imagesUrl.length-1]?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Sd,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[2]||(t[2]=function(e){return o.tempProduct.imagesUrl.push("")})}," 新增圖片 ")])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Dd,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm d-block w-100",onClick:t[3]||(t[3]=function(e){return o.tempProduct.imagesUrl.pop()})}," 刪除圖片 ")]))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Pd,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm d-block w-100",onClick:t[4]||(t[4]=function(){return e.createImages&&e.createImages.apply(e,arguments)})}," 新增圖片 ")]))]),Object(n["createElementVNode"])("div",Md,[Object(n["createElementVNode"])("div",_d,[Td,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入標題","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.tempProduct.title=e})},null,512),[[n["vModelText"],o.tempProduct.title]])]),Object(n["createElementVNode"])("div",Rd,[Object(n["createElementVNode"])("div",Id,[$d,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入主分類","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.tempProduct.classification=e})},null,512),[[n["vModelText"],o.tempProduct.classification]])]),Object(n["createElementVNode"])("div",Fd,[Ud,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入次分類","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.tempProduct.category=e})},null,512),[[n["vModelText"],o.tempProduct.category]])]),Object(n["createElementVNode"])("div",qd,[zd,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.tempProduct.unit=e})},null,512),[[n["vModelText"],o.tempProduct.unit]])])]),Object(n["createElementVNode"])("div",Ad,[Object(n["createElementVNode"])("div",Kd,[Wd,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":t[9]||(t[9]=function(e){return o.tempProduct.origin_price=e})},null,512),[[n["vModelText"],o.tempProduct.origin_price]])]),Object(n["createElementVNode"])("div",Zd,[Jd,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入售價","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.tempProduct.price=e})},null,512),[[n["vModelText"],o.tempProduct.price]])])]),Yd,Object(n["createElementVNode"])("div",Hd,[Gd,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述","onUpdate:modelValue":t[11]||(t[11]=function(e){return o.tempProduct.description=e})},"\n                ",512),[[n["vModelText"],o.tempProduct.description]])]),Object(n["createElementVNode"])("div",Qd,[Xd,Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":t[12]||(t[12]=function(e){return o.tempProduct.content=e})},"\n                ",512),[[n["vModelText"],o.tempProduct.content]])]),Object(n["createElementVNode"])("div",es,[Object(n["createElementVNode"])("div",ts,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":t[13]||(t[13]=function(e){return o.tempProduct.is_enabled=e})},null,512),[[n["vModelCheckbox"],o.tempProduct.is_enabled]]),cs])])])])]),Object(n["createElementVNode"])("div",ns,[as,Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[14]||(t[14]=function(){return r.updateItem&&r.updateItem.apply(r,arguments)})}," 確認 ")])])])],512)],64)}var rs={props:["productinfo","state"],emits:["update"],components:{Loading:me.a},data:function(){return{tempProduct:this.productinfo,isNew:this.state,productModal:null,isLoading:!1}},methods:{updateItem:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoading=!0,!0!==e.isNew){t.next=6;break}return t.next=4,Gr({data:e.tempProduct});case 4:t.next=8;break;case 6:return t.next=8,Xr({data:e.tempProduct});case 8:e.$emit("update"),e.isLoading=!1;case 10:case"end":return t.stop()}}),t)})))()},customImageFile:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ashen","/admin/upload"),n=e.$refs.fileInput.files[0],a=new FormData,a.append("file-to-upload",n),t.prev=5,t.next=8,ue.a.post(c,a,{headers:{"Content-Type":"multipart/form-data"}});case 8:o=t.sent,e.tempProduct.fileImage=o.data.imageUrl,e.$refs.fileInput.value="",t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](5),e.isLoading=!1,e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 17:e.isLoading=!1;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})))()}},watch:{state:function(e){this.isNew=e},productinfo:function(e){this.tempProduct=e}}};const ls=l()(rs,[["render",os]]);var ds=ls,ss={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},is={class:"modal-dialog"},us={class:"modal-content border-0"},bs=Object(n["createElementVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(n["createElementVNode"])("h5",{id:"delProductModalLabel",class:"modal-title"},[Object(n["createElementVNode"])("span",null,"刪除產品")]),Object(n["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ms={class:"modal-body"},ps=Object(n["createTextVNode"])(" 是否刪除 "),Os={class:"text-danger"},js=Object(n["createTextVNode"])(" 商品(刪除後將無法恢復)。 "),fs={class:"modal-footer"},vs=Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function hs(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",ss,[Object(n["createElementVNode"])("div",is,[Object(n["createElementVNode"])("div",us,[bs,Object(n["createElementVNode"])("div",ms,[ps,Object(n["createElementVNode"])("strong",Os,Object(n["toDisplayString"])(o.tempProduct.title),1),js]),Object(n["createElementVNode"])("div",fs,[vs,Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return r.deleteItem&&r.deleteItem.apply(r,arguments)})}," 確認刪除 ")])])])],512)],64)}var gs={components:{Loading:me.a},props:["productinfo"],emits:["update"],data:function(){return{tempProduct:this.productinfo,delProductModal:null,isLoading:!1}},methods:{deleteItem:function(){this.isLoading=!0,tl(this.tempProduct.id),this.$emit("update"),this.isLoading=!1}},watch:{productinfo:function(e){this.tempProduct=e}}};const Vs=l()(gs,[["render",hs]]);var Ns=Vs,Es={title:"",category:"",origin_price:0,price:0,unit:"",description:"",content:"",is_enabled:1,imageUrl:"",imagesUrl:[],fileImage:""},ys={mixins:[Oe],components:{Pagination:rd,ProductModal:ds,DelProductModal:Ns,Loading:me.a},data:function(){return{title:"產品管理",products:[],pagination:null,isNew:!1,tempProduct:Es,productModal:null,delProductModal:null,isLoading:!1}},methods:{init:function(){var e=arguments,t=this;return Object(le["a"])(regeneratorRuntime.mark((function c(){var n,a,o,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,t.isLoading=!0,c.next=4,Yr(n);case 4:a=c.sent,o=a.products,r=a.pagination,t.products=o,t.pagination=r,t.productModal.hide(),t.delProductModal.hide(),t.isLoading=!1;case 12:case"end":return c.stop()}}),c)})))()},showModal:function(e,t){"new"===e?(this.tempProduct=JSON.parse(JSON.stringify(Es)),this.isNew=!0,this.productModal.show()):"update"===e?(this.tempProduct=JSON.parse(JSON.stringify(t)),this.isNew=!1,this.productModal.show()):"delete"===e&&(this.tempProduct=Object(Zl["a"])({},t),this.delProductModal.show())},createImages:function(){this.tempProduct.imagesUrl=[],this.tempProduct.imagesUrl.push("")}},created:function(){this.init()},mounted:function(){this.productModal=new Zt.a(document.getElementById("productModal"),{keyboard:!1}),this.delProductModal=new Zt.a(document.getElementById("delProductModal"),{keyboard:!1})}};const ks=l()(ys,[["render",Wl]]);var xs=ks,ws={class:"container"},Cs={class:"text-end mt-4"},Bs={class:"table mt-4"},Ls=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",null,"折扣名稱"),Object(n["createElementVNode"])("th",null,"折扣代碼"),Object(n["createElementVNode"])("th",null,"折扣百分比"),Object(n["createElementVNode"])("th",null,"到期日"),Object(n["createElementVNode"])("th",null,"是否啟用"),Object(n["createElementVNode"])("th",null,"編輯")])],-1),Ss={key:0,class:"text-success"},Ds={key:1,class:"text-muted"},Ps={class:"btn-group"},Ms=["onClick"],_s=["onClick"];function Ts(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading"),d=Object(n["resolveComponent"])("Pagination"),s=Object(n["resolveComponent"])("CouponsModal"),i=Object(n["resolveComponent"])("DelCoupons");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",ws,[Object(n["createElementVNode"])("div",Cs,[Object(n["createElementVNode"])("button",{class:"btn btn-primary",type:"button",onClick:t[0]||(t[0]=function(e){return r.openCouponModal(!0)})}," 建立新的優惠券 ")]),Object(n["createElementVNode"])("table",Bs,[Ls,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.coupons,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:e.code},[Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.title),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.code),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.percent)+"%",1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(new Date(1e3*e.due_date).toLocaleDateString()),1),Object(n["createElementVNode"])("td",null,[1===e.is_enabled?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Ss,"啟用")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Ds,"未啟用"))]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",Ps,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:function(t){return r.openCouponModal(!1,e)}}," 編輯 ",8,Ms),Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(t){return r.openDelCouponModal(e)}}," 刪除 ",8,_s)])])])})),128))])]),Object(n["createVNode"])(d,{pages:o.pagination,onEmitpages:r.getCoupons},null,8,["pages","onEmitpages"])]),Object(n["createVNode"])(s,{ref:"couponModal","is-new":o.isNew,coupon:o.tempCoupon,onResetCoupons:r.getCoupons},null,8,["is-new","coupon","onResetCoupons"]),Object(n["createVNode"])(i,{ref:"delCoupon",coupon:o.tempCoupon,onResetCoupons:r.getCoupons},null,8,["coupon","onResetCoupons"])],64)}var Rs={class:"modal fade",id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Is={class:"modal-dialog",role:"document"},$s={class:"modal-content"},Fs={class:"modal-header"},Us={class:"modal-title",id:"exampleModalLabel"},qs={key:0},zs={key:1},As=Object(n["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ks={class:"modal-body"},Ws={class:"mb-3"},Zs=Object(n["createElementVNode"])("label",{for:"title"},[Object(n["createTextVNode"])("標題 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),Js={class:"mb-3"},Ys=Object(n["createElementVNode"])("label",{for:"coupon_code"},[Object(n["createTextVNode"])("優惠碼 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),Hs={class:"mb-3"},Gs=Object(n["createElementVNode"])("label",{for:"due_date"},[Object(n["createTextVNode"])("到期日 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),Qs={class:"mb-3"},Xs=Object(n["createElementVNode"])("label",{for:"price"},[Object(n["createTextVNode"])("折扣百分比 "),Object(n["createElementVNode"])("span",{class:"text-danger"},"*")],-1),ei={key:0,class:"mb-3"},ti={class:"form-check"},ci=Object(n["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),ni={class:"modal-footer"},ai=Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ",-1);function oi(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",Rs,[Object(n["createElementVNode"])("div",Is,[Object(n["createElementVNode"])("div",$s,[Object(n["createElementVNode"])("div",Fs,[Object(n["createElementVNode"])("h5",Us,[c.isNew?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",qs,"新增優惠卷")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",zs,"編輯優惠卷"))]),As]),Object(n["createElementVNode"])("div",Ks,[Object(n["createElementVNode"])("div",Ws,[Zs,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.tempCoupon.title=e}),placeholder:"請輸入標題"},null,512),[[n["vModelText"],o.tempCoupon.title]])]),Object(n["createElementVNode"])("div",Js,[Ys,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"text",class:"form-control",id:"coupon_code","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.tempCoupon.code=e}),placeholder:"請輸入優惠碼"},null,512),[[n["vModelText"],o.tempCoupon.code]])]),Object(n["createElementVNode"])("div",Hs,[Gs,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"date",class:"form-control",id:"due_date","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.due_date=e})},null,512),[[n["vModelText"],o.due_date]])]),Object(n["createElementVNode"])("div",Qs,[Xs,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"number",class:"form-control",id:"price",min:"0","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.tempCoupon.percent=e}),placeholder:"請輸入折扣百分比"},null,512),[[n["vModelText"],o.tempCoupon.percent,void 0,{number:!0}]])]),c.isNew?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ei,[Object(n["createElementVNode"])("div",ti,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.tempCoupon.is_enabled=e}),id:"is_enabled"},null,512),[[n["vModelCheckbox"],o.tempCoupon.is_enabled]]),ci])]))]),Object(n["createElementVNode"])("div",ni,[ai,Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[5]||(t[5]=function(){return r.updateCoupon&&r.updateCoupon.apply(r,arguments)})},Object(n["toDisplayString"])(c.isNew?"新增優惠卷":"更新優惠券"),1)])])])],512)],64)}c("1276");var ri={components:{Loading:me.a},props:{coupon:{type:Object,default:function(){return{}}},isNew:{type:Boolean,default:!1}},emits:["resetCoupons"],data:function(){return{tempCoupon:{},due_date:"",isLoading:!1}},mounted:function(){this.tempCoupon=Object(Zl["a"])({},this.coupon)},methods:{updateCoupon:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,c="post",n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ashen","/admin/coupon"),!1===e.isNew&&(c="put",n+="/".concat(e.coupon.id)),t.prev=4,t.next=7,ue.a[c](n,{data:e.tempCoupon});case 7:e.$emit("resetCoupons"),e.isLoading=!1,t.next=16;break;case 11:t.prev=11,t.t0=t["catch"](4),console.dir(t.t0),e.isLoading=!1,e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 16:e.isLoading=!1;case 17:case"end":return t.stop()}}),t,null,[[4,11]])})))()}},watch:{coupon:function(){this.tempCoupon=Object(Zl["a"])({},this.coupon);var e=new Date(1e3*this.tempCoupon.due_date).toISOString().split("T");this.due_date=e[0]},due_date:function(){var e=Math.floor(new Date(this.due_date)/1e3);this.tempCoupon.due_date=e}},mixins:[zn]};const li=l()(ri,[["render",oi]]);var di=li,si={id:"delCouponModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true",ref:"modal"},ii={class:"modal-dialog"},ui={class:"modal-content border-0"},bi=Object(n["createElementVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(n["createElementVNode"])("h5",{id:"delProductModalLabel",class:"modal-title"},[Object(n["createElementVNode"])("span",null,"刪除優惠卷")]),Object(n["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),mi={class:"modal-body"},pi=Object(n["createTextVNode"])(" 是否刪除 "),Oi={class:"text-danger"},ji=Object(n["createTextVNode"])(" (刪除後將無法恢復)。 "),fi={class:"modal-footer"},vi=Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function hi(e,t,c,a,o,r){var l,d=Object(n["resolveComponent"])("Loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(d,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("div",si,[Object(n["createElementVNode"])("div",ii,[Object(n["createElementVNode"])("div",ui,[bi,Object(n["createElementVNode"])("div",mi,[pi,Object(n["createElementVNode"])("strong",Oi,Object(n["toDisplayString"])(null===(l=o.tempProduct)||void 0===l?void 0:l.title),1),ji]),Object(n["createElementVNode"])("div",fi,[vi,Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return r.deleteItem&&r.deleteItem.apply(r,arguments)})}," 確認刪除 ")])])])],512)],64)}var gi={components:{Loading:me.a},props:["coupon"],emits:["resetCoupons"],mixins:[zn],data:function(){return{modal:null,tempProduct:this.coupon,isLoading:!1}},methods:{deleteItem:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ashen","/admin/coupon/").concat(e.tempProduct.id),t.prev=2,t.next=5,ue.a.delete(c);case 5:e.$emit("resetCoupons"),e.isLoading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),e.isLoading=!1,e.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:t.t0.response.data.message});case 13:e.isLoading=!1;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()}},watch:{coupon:function(e){this.tempProduct=e}}};const Vi=l()(gi,[["render",hi]]);var Ni=Vi,Ei={mixins:[Oe],components:{Pagination:rd,CouponsModal:di,DelCoupons:Ni,Loading:me.a},data:function(){return{title:"優惠卷管理",coupons:[],pagination:null,isNew:!1,tempCoupon:{title:"",is_enabled:0,percent:100,code:""},isLoading:!1}},methods:{getCoupons:function(){var e=arguments,t=this;return Object(le["a"])(regeneratorRuntime.mark((function c(){var n,a,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,t.isLoading=!0,a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ashen","/admin/coupons?page=").concat(n),c.prev=3,c.next=6,ue.a.get(a);case 6:o=c.sent,t.coupons=o.data.coupons,t.pagination=o.data.pagination,c.next=15;break;case 11:c.prev=11,c.t0=c["catch"](3),t.isLoading=!1,t.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:c.t0.response.data.message});case 15:t.$refs.couponModal.hideModal(),t.$refs.delCoupon.hideModal(),t.isLoading=!1;case 18:case"end":return c.stop()}}),c,null,[[3,11]])})))()},openCouponModal:function(e,t){this.isNew=e,!0===this.isNew?this.tempCoupon={due_date:(new Date).getTime()/1e3,is_enabled:1}:this.tempCoupon=Object(Zl["a"])({},t),this.$refs.couponModal.openModal()},openDelCouponModal:function(e){this.tempCoupon=Object(Zl["a"])({},e);var t=this.$refs.delCoupon;t.openModal()}},mounted:function(){var e=this;return Object(le["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCoupons();case 2:case"end":return t.stop()}}),t)})))()}};const yi=l()(Ei,[["render",Ts]]);var ki=yi,xi={class:"table mt-4"},wi=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",null,"購買時間"),Object(n["createElementVNode"])("th",null,"Email"),Object(n["createElementVNode"])("th",null,"購買款項"),Object(n["createElementVNode"])("th",null,"應付金額"),Object(n["createElementVNode"])("th",null,"是否付款"),Object(n["createElementVNode"])("th",null,"編輯")])],-1),Ci=["textContent"],Bi={class:"list-unstyled"},Li={class:"text-right"},Si={class:"form-check form-switch"},Di=["id","onUpdate:modelValue","onChange"],Pi=["for"],Mi={key:0},_i={key:1},Ti={class:"btn-group"},Ri=["onClick"],Ii=["onClick"];function $i(e,t,c,a,o,r){var l=Object(n["resolveComponent"])("Loading"),d=Object(n["resolveComponent"])("Pagination"),s=Object(n["resolveComponent"])("OrderModal"),i=Object(n["resolveComponent"])("DelOrderModal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{active:o.isLoading},null,8,["active"]),Object(n["createElementVNode"])("table",xi,[wi,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.orders,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],{key:e.id},[o.orders.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:0,class:Object(n["normalizeClass"])({"text-secondary":!e.is_paid})},[Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(new Date(1e3*e.create_at).toLocaleDateString()),1),Object(n["createElementVNode"])("td",null,[e.user?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{key:0,textContent:Object(n["toDisplayString"])(e.user.email)},null,8,Ci)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("ul",Bi,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.products,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{key:e.id},Object(n["toDisplayString"])(e.product.title)+" 數量："+Object(n["toDisplayString"])(e.qty)+" "+Object(n["toDisplayString"])(e.product.unit),1)})),128))])]),Object(n["createElementVNode"])("td",Li,Object(n["toDisplayString"])(e.total),1),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",Si,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",id:"paidSwitch".concat(e.id),"onUpdate:modelValue":function(t){return e.is_paid=t},onChange:function(t){return r.updateOrder(e)}},null,40,Di),[[n["vModelCheckbox"],e.is_paid]]),Object(n["createElementVNode"])("label",{class:"form-check-label",for:"paidSwitch".concat(e.id)},[e.is_paid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",Mi,"已付款")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",_i,"未付款"))],8,Pi)])]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",Ti,[Object(n["createElementVNode"])("button",{class:"btn btn-outline-primary btn-sm",type:"button",onClick:function(t){return r.openOrder(e)}}," 檢視 ",8,Ri),Object(n["createElementVNode"])("button",{class:"btn btn-outline-danger btn-sm",type:"button",onClick:function(t){return r.openDelOrder(e)}}," 刪除 ",8,Ii)])])],2)):Object(n["createCommentVNode"])("",!0)],64)})),128))])]),Object(n["createVNode"])(d,{pages:o.pagination,onEmitpages:r.getOrders},null,8,["pages","onEmitpages"]),Object(n["createVNode"])(s,{ref:"orderModal","order-data":o.tempOrder,onUpdateOrders:r.updateOrder},null,8,["order-data","onUpdateOrders"]),Object(n["createVNode"])(i,{ref:"delModel",coupon:o.tempOrder,onDelOrder:r.delOrder},null,8,["coupon","onDelOrder"])],64)}var Fi={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},Ui={class:"modal-dialog modal-xl",role:"document"},qi={class:"modal-content border-0"},zi=Object(n["createElementVNode"])("div",{class:"modal-header bg-dark text-white"},[Object(n["createElementVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(n["createElementVNode"])("span",null,"訂單細節")]),Object(n["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ai={class:"modal-body"},Ki={class:"row"},Wi={class:"col-md-4"},Zi=Object(n["createElementVNode"])("h3",null,"用戶資料",-1),Ji={class:"table"},Yi={key:0},Hi=Object(n["createElementVNode"])("th",{style:{width:"100px"}},"姓名",-1),Gi=Object(n["createElementVNode"])("th",null,"Email",-1),Qi=Object(n["createElementVNode"])("th",null,"電話",-1),Xi=Object(n["createElementVNode"])("th",null,"地址",-1),eu={class:"col-md-8"},tu=Object(n["createElementVNode"])("h3",null,"訂單細節",-1),cu={class:"table"},nu=Object(n["createElementVNode"])("th",{style:{width:"100px"}},"訂單編號",-1),au=Object(n["createElementVNode"])("th",null,"下單時間",-1),ou=Object(n["createElementVNode"])("th",null,"付款時間",-1),ru={key:0},lu={key:1},du=Object(n["createElementVNode"])("th",null,"付款狀態",-1),su={key:0,class:"text-success"},iu={key:1,class:"text-muted"},uu=Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",null,"總金額"),Object(n["createElementVNode"])("td")],-1),bu=Object(n["createElementVNode"])("h3",null,"選購商品",-1),mu={class:"table"},pu=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr")],-1),Ou=Object(n["createElementVNode"])("td",{class:"text-end"},null,-1),ju={class:"d-flex justify-content-end"},fu={class:"form-check"},vu={class:"form-check-label",for:"flexCheckDefault"},hu={key:0},gu={key:1},Vu={class:"modal-footer"},Nu=Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Eu(e,t,c,a,o,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Fi,[Object(n["createElementVNode"])("div",Ui,[Object(n["createElementVNode"])("div",qi,[zi,Object(n["createElementVNode"])("div",Ai,[Object(n["createElementVNode"])("div",Ki,[Object(n["createElementVNode"])("div",Wi,[Zi,Object(n["createElementVNode"])("table",Ji,[o.tempOrder.user?(Object(n["openBlock"])(),Object(n["createElementBlock"])("tbody",Yi,[Object(n["createElementVNode"])("tr",null,[Hi,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(o.tempOrder.user.name),1)]),Object(n["createElementVNode"])("tr",null,[Gi,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(o.tempOrder.user.email),1)]),Object(n["createElementVNode"])("tr",null,[Qi,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(o.tempOrder.user.tel),1)]),Object(n["createElementVNode"])("tr",null,[Xi,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(o.tempOrder.user.address),1)])])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("div",eu,[tu,Object(n["createElementVNode"])("table",cu,[Object(n["createElementVNode"])("tbody",null,[Object(n["createElementVNode"])("tr",null,[nu,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(o.tempOrder.id),1)]),Object(n["createElementVNode"])("tr",null,[au,Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(new Date(1e3*o.tempOrder.create_at).toLocaleDateString()),1)]),Object(n["createElementVNode"])("tr",null,[ou,Object(n["createElementVNode"])("td",null,[o.tempOrder.paid_date?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",ru,Object(n["toDisplayString"])(new Date(1e3*o.tempOrder.paid_date).toLocaleDateString()),1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",lu,"時間不正確"))])]),Object(n["createElementVNode"])("tr",null,[du,Object(n["createElementVNode"])("td",null,[o.tempOrder.is_paid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("strong",su,"已付款")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",iu,"尚未付款"))])]),uu])]),bu,Object(n["createElementVNode"])("table",mu,[pu,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.tempOrder.products,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:e.id},[Object(n["createElementVNode"])("th",null,Object(n["toDisplayString"])(e.product.title),1),Object(n["createElementVNode"])("td",null,Object(n["toDisplayString"])(e.qty)+" / "+Object(n["toDisplayString"])(e.product.unit),1),Ou])})),128))])]),Object(n["createElementVNode"])("div",ju,[Object(n["createElementVNode"])("div",fu,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.tempOrder.is_paid=e})},null,512),[[n["vModelCheckbox"],o.tempOrder.is_paid]]),Object(n["createElementVNode"])("label",vu,[o.tempOrder.is_paid?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",hu,"已付款")):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",gu,"未付款"))])])])])])]),Object(n["createElementVNode"])("div",Vu,[Nu,Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(t){return e.$emit("update-orders",o.tempOrder)})}," 修改付款狀態 ")])])])],512)}var yu={data:function(){return{tempOrder:{}}},props:["orderData"],methods:{},mounted:function(){this.tempOrder=this.orderData},watch:{orderData:function(){this.tempOrder=this.orderData}},mixins:[zn]};const ku=l()(yu,[["render",Eu]]);var xu=ku,wu={id:"delProductModal",ref:"modal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},Cu={class:"modal-dialog"},Bu={class:"modal-content border-0"},Lu=Object(n["createElementVNode"])("div",{class:"modal-header bg-danger text-white"},[Object(n["createElementVNode"])("h5",{id:"delProductModalLabel",class:"modal-title"},[Object(n["createElementVNode"])("span",null,"刪除訂單")]),Object(n["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Su={class:"modal-body"},Du=Object(n["createTextVNode"])(" 是否刪除 "),Pu={class:"text-danger"},Mu=Object(n["createTextVNode"])(" (刪除後將無法恢復)。 "),_u={class:"modal-footer"},Tu=Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Ru(e,t,c,a,o,r){var l;return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",wu,[Object(n["createElementVNode"])("div",Cu,[Object(n["createElementVNode"])("div",Bu,[Lu,Object(n["createElementVNode"])("div",Su,[Du,Object(n["createElementVNode"])("strong",Pu,Object(n["toDisplayString"])(null===(l=o.tempOrder)||void 0===l?void 0:l.title),1),Mu]),Object(n["createElementVNode"])("div",_u,[Tu,Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-danger",onClick:t[0]||(t[0]=function(){return r.deleteOrder&&r.deleteOrder.apply(r,arguments)})},"確認刪除")])])])],512)}var Iu={props:["coupon"],mixins:[zn],data:function(){return{modal:null,tempOrder:this.coupon}},methods:{deleteOrder:function(){this.$emit("delOrder",this.tempOrder)}},watch:{coupon:function(e){this.tempOrder=e}}};const $u=l()(Iu,[["render",Ru]]);var Fu=$u,Uu={mixins:[Oe],components:{Pagination:rd,OrderModal:xu,DelOrderModal:Fu,Loading:me.a},data:function(){return{title:"訂單管理",pagination:null,orders:[],tempOrder:{},isLoading:!1}},methods:{getOrders:function(){var e=arguments,t=this;return Object(le["a"])(regeneratorRuntime.mark((function c(){var n,a,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,t.isLoading=!0,a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ashen","/admin/orders?page=").concat(n),c.prev=3,c.next=6,ue.a.get(a);case 6:o=c.sent,t.orders=o.data.orders,t.pagination=o.data.pagination,c.next=15;break;case 11:c.prev=11,c.t0=c["catch"](3),t.isLoading=!1,t.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:c.t0.response.data.message});case 15:t.$refs.orderModal.hideModal(),t.$refs.delModel.hideModal(),t.isLoading=!1;case 18:case"end":return c.stop()}}),c,null,[[3,11]])})))()},openOrder:function(e){this.tempOrder=e,this.$refs.orderModal.openModal()},updateOrder:function(e){var t=this;return Object(le["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t.isLoading=!0,n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ashen","/admin/order/").concat(e.id),c.prev=2,c.next=5,ue.a.put(n,{data:e});case 5:c.next=11;break;case 7:c.prev=7,c.t0=c["catch"](2),t.isLoading=!1,t.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:c.t0.response.data.message});case 11:t.getOrders(),t.isLoading=!1;case 13:case"end":return c.stop()}}),c,null,[[2,7]])})))()},openDelOrder:function(e){this.tempOrder=e,this.$refs.delModel.openModal()},delOrder:function(e){var t=this;return Object(le["a"])(regeneratorRuntime.mark((function c(){var n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t.isLoading=!0,n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("ashen","/admin/order/").concat(e.id),c.prev=2,c.next=5,ue.a.delete(n);case 5:t.getOrders(),c.next=12;break;case 8:c.prev=8,c.t0=c["catch"](2),t.isLoading=!1,t.$swal({icon:"error",timer:2e3,showConfirmButton:!1,text:c.t0.response.data.message});case 12:t.isLoading=!1;case 13:case"end":return c.stop()}}),c,null,[[2,8]])})))()}},mounted:function(){this.getOrders()}};const qu=l()(Uu,[["render",$i]]);var zu=qu,Au=[{path:"/",name:"Layout",component:function(){return c.e("chunk-97ce6380").then(c.bind(null,"e6aa"))},children:[{path:"",name:"home",component:ge},{path:"/about",name:"about",component:De},{path:"/Products",name:"Products",component:Pc},{path:"/Product/:id",name:"Product",component:function(){return c.e("chunk-2e8fbc17").then(c.bind(null,"0052"))}},{path:"/CheckOrder",name:"CheckOrder",component:ca},{path:"/CheckOut/:id",name:"CheckOut",component:Ho},{path:"/KnowledgeView",name:"KnowledgeView",component:Sr}]},{path:"/Login",name:"Login",component:ol},{path:"/admin",name:"Dashboard",component:Ml,children:[{path:"",name:"products",component:xs},{path:"Coupons",name:"Coupons",component:ki},{path:"Orders",name:"Orders",component:zu}]},{path:"/:pathMatch(.*)*",name:"Error",component:function(){return c.e("chunk-49358f36").then(c.bind(null,"dda8"))}}],Ku=Object(i["a"])({history:Object(i["b"])(),routes:Au}),Wu=Ku,Zu=c("5502"),Ju=Object(Zu["a"])({state:{},mutations:{},actions:{},modules:{}}),Yu=c("f9d5"),Hu=c.n(Yu),Gu=Object(n["createApp"])(s);Gu.use(Hu.a),Gu.use(Ju).use(Wu).mount("#app")},"6ee0":function(e,t,c){},"761c":function(e,t,c){"use strict";c("ed7b")},"7f5f":function(e,t,c){"use strict";c("c578")},"87ac":function(e,t,c){},"890a":function(e,t,c){},"927a":function(e,t,c){"use strict";c("3b9d")},9975:function(e,t,c){"use strict";c("34bb")},"9eb2":function(e,t,c){},ac65:function(e,t,c){"use strict";c("0d9f")},b21c:function(e,t,c){"use strict";c("edd3")},c351:function(e,t,c){"use strict";c("1c93")},c578:function(e,t,c){},ca9a:function(e,t,c){"use strict";c("6ee0")},cea0:function(e,t,c){"use strict";c("e3d6")},d1f3:function(e,t,c){"use strict";c("549d")},e3d6:function(e,t,c){},e85b:function(e,t,c){"use strict";c("0e32")},ed7b:function(e,t,c){},edd3:function(e,t,c){},f31f:function(e,t,c){},fe9f:function(e,t,c){"use strict";var n=c("1344"),a=new n["a"];t["a"]=a}});
//# sourceMappingURL=app.582e9a27.js.map